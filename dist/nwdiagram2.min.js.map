{"version":3,"sources":["static/site/js/iida.startup.js","static/site/js/iida.models.asr1001hx.js","static/site/js/iida.models.asr9901.js","static/site/js/iida.models.asr9903.js","static/site/js/iida.models.cat2960x-24.js","static/site/js/iida.models.cat9300-24.js","static/site/js/iida.models.fgt200e.js","static/site/js/iida.models.n3172pq.js","static/site/js/iida.models.ncs5501.js","static/site/js/iida.models.ncs55a1.js","static/site/js/iida.appdata.bundle_ether.js","static/site/js/iida.appdata.routers_core.js","static/site/js/iida.appdata.routers_service.js","static/site/js/iida.appdata.routers_user.js","static/site/js/iida.cylayouts.js","static/site/js/iida.cymodel.js","static/site/js/iida.cystyles.js","static/site/js/iida.elements.js","static/site/js/iida.nwdiagram.js"],"names":["this","iida","appdata","DEFAULT_ROUTER_HEIGHT","DEFAULT_ROUTER_WIDTH","DEFAULT_PORT_HEIGHT","DEFAULT_PORT_WIDTH","routers","edges","bundleEthers","elements","topologyElements","models","styles","layouts","main","nwdiagram","asr1001hx","positionMap","prop","startsWith","substr","offsetMap","k","offsetX","IMG_WIDTH","offsetY","IMG_HEIGHT","MODEL","THUMBNAIL_PATH","IMG_PATH","PORT_WIDTH","PORT_HEIGHT","asr9901","asr9903","cat2960x24","cat9300_24","fgt200e","WAN1","WAN2","LAN1","LAN2","LAN3","LAN4","LAN5","LAN6","LAN7","LAN8","LAN9","LAN10","LAN11","LAN12","LAN13","LAN14","LAN15","LAN16","LAN17","LAN18","n3172","ncs5501","ncs55a1","id","label","ports","grid","row","col","height","popper","dragWith","classes","data","redundant","model","align","Array","prototype","push","apply","sourceRouter","sourcePort","targetRouter","targetPort","weight","segmentDistances","taxiTurn","name","fit","padding","boundingBox","undefined","avoidOverlap","avoidOverlapPadding","nodeDimensionsIncludeLabels","spacingFactor","condense","rows","cols","position","node","sort","animate","animationDuration","animationEasing","animateFilter","i","stop","evt","cy","nodes","forEach","Object","assign","circle","radius","startAngle","Math","PI","sweep","clockwise","concentric","equidistant","minNodeSpacing","width","degree","levelWidth","maxDegree","breadthfirst","directed","roots","maximal","fcose","quality","randomize","nodeSeparation","idealEdgeLength","edge","fixedNodeConstraint","alignmentConstraint","vertical","relativePlacementConstraint","left","right","gap","cyModel","dom","container","exports","cytoscape","minZoom","maxZoom","wheelSensitivity","layout","style","selector","shape","show","removeAllListeners","remove","reset","resize","add","url","selectable","grabbable","masterNode","$id","on","target","not","offset","x","y","d","emit","visibility","hide","datum","_","arguments","length","call","callback","physical","opacity","distances","s","source","t","toString","eles","createNode","_id","_label","_popper","_grid","_classes","_nodeType","_width","_height","_dragWith","_grabbable","_ports","_data","_routerId","_align","_offsetX","_offsetY","toObject","keys","nodeType","split","filter","elem","index","self","indexOf","routerId","routerWidth","routerHeight","portWidth","portHeight","routerPosition","_position","createEdge","_source","_sourceRouter","_sourcePort","_target","_targetRouter","_targetPort","_taxiTurn","_segmentDistances","_edgeType","_weight","edgeType","router","routerLabel","routerClasses","routerData","n","port","pid","portId","portLabel","portClasses","portData","edgeId","e","edgeLabel","edgePopper","edgeClasses","edgeData","console","log","nwdiagramState","nenuName","showPopper","shortestPathDuration","cyContainer","document","getElementById","window","hideEdgesOnViewport","textureOnViewport","boxSelectionEnabled","autounselectify","selectionType","panzoom","$","deltaX","deltaY","grabbed","oldX","oldY","fixPortPosition","p","tipDiv","hideTooltip","appendChild","createTag","createTextNode","aTag","href","addEventListener","stopPropagation","preventDefault","unselect","select","connectedEdges","tooltipPort","menuName","inputTag","type","value","checked","hasClass","removeClass","addClass","CyShortestPath","restart","labelTag","htmlFor","append","selectDijkstraSource","selectDijkstraTarget","ulRouters","neighborhood","neighbor","liTag","ulEdges","edgesWith","tooltipRouterTopology","ulPorts","port_id","modelData","key","imgTag","createElement","src","clientWidth","portDatas","tooltipRouterPhysical","showTooltipNode","connectedNodes","tooltipEdgeTopology","tooltipEdgePhysical","showTooltipEdge","element","updatePopper","batch","popperDiv","removeListener","popperObj","destroy","removePopper","classList","content","innerHTML","placement","modifiers","options","display","doLater","zoom","fontSize","round","max","min","update","job","tmo","TID","clearTimeout","setTimeout","alert","createPopper","setCyElements","layoutName","option","run","animateToInitialPosition","setCyLayout","cyModelContainer","idPopper","lastChild","removeChild","tag","attrs","children","el","val","setAttribute","child","showHidePopper","getElementsByName","menuP","menuL","setSelectOptions","hidePathTo","initialPositionButton","getInitialPosition","Promise","all","map","animation","duration","easing","play","promise","bundleEtherDiv","bundleEther","parent","group","move","connectedButton","filterByLocation","location","showHideRouters","r","filterByRedundant","redundantNumber","showHideElement","root","includes","peerPort","peerRouterId","peerRouter","subgraph","collection","showConnected","dijkstra","startNodeId","dijkstraResult","parameterChanged","startNode","result","showPathTo","targetNodeId","targetNode","pathTo","step","highlightNext","difference","isRunning","dispatchEvent","Event","cost1_1","innerText","setEdgeWeight","cost1_2","cost2_2","parseInt","text","getSelectValues","values","from","targetId","dijkstraStartStop","disabled","originalSourceIndex","sourceIndex","originalTargetIndex","targetIndex","sourceRouterIds","targetRouterIds","calculatedPairs","moveNext3","selected","dijkstraStartStopFunc","dijkstraClearButton","clearDisabledEdgeButton","debugButton"],"mappings":"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","file":true,"sourcesContent":["/* global iida */\n\n// define namespace iida\n(function () {\n  // the `this` means global\n  // the `iida` is a object defined here\n  this.iida = this.iida || {};\n})();\n\n// define global variables\n(function () {\n  iida.appdata = iida.appdata || {\n    DEFAULT_ROUTER_HEIGHT: 130,\n    DEFAULT_ROUTER_WIDTH: 210, // 130*1.61 golden ratio\n    DEFAULT_PORT_HEIGHT: 25,\n    DEFAULT_PORT_WIDTH: 60, // 25*2.41 silver ratio\n\n    // see iida.appdata.routers_xxx.js\n    routers: [], // data of routers and ports\n    edges: [], // data of edges\n    bundleEthers: [], // data of bundleEther\n\n    // see iida.elements.js\n    elements: {}, // cytoscape.js eles\n    topologyElements: {}, // cytoscape.js eles\n  };\n\n  // see iida.models.xxx.js\n  iida.models = iida.models || {};\n\n  // see iida.cystyles.js\n  iida.styles = iida.styles || {};\n\n  // see iida.cylayouts.js\n  iida.layouts = iida.layouts || {};\n\n  // see iida.nwdiagram.js\n  iida.main = function () {\n    // load data from network\n    /*\n    Promise.all([\n      fetch(\"static/json/elements.json\", { mode: \"no-cors\" }).then(function (\n        res\n      ) {\n        return res.json();\n      }),\n      fetch(\"static/json/styles.json\", { mode: \"no-cors\" }).then(function (\n        res\n      ) {\n        return res.json();\n      }),\n    ]).then(function (dataArray) {\n      iida.appdata.elements = dataArray[0];\n      iida.appdata.styles = dataArray[1];\n    });\n    */\n    iida.nwdiagram();\n\n  };\n})();\n","/* global iida */\n\n(function () {\n  iida.models.asr1001hx = (function () {\n\n    var MODEL = 'ASR1001-HX';\n    var THUMBNAIL_PATH = 'static/site/img/sASR1001-HX.png';\n    var IMG_PATH = 'static/site/img/ASR1001-HX.png';\n    var IMG_WIDTH = 1920;\n    var IMG_HEIGHT = 203;\n    var PORT_WIDTH = 54;\n    var PORT_HEIGHT = 32;\n\n    // (x, y) by paint application\n    var positionMap = {\n\n      // interface GigabitEthernet0/1/0\n      'G0/1/0': [1135, 140],\n      'G0/1/1': [1135, 75],\n\n      'G0/1/2': [1198, 140],\n      'G0/1/3': [1198, 75],\n\n      'G0/1/4': [1260, 140],\n      'G0/1/5': [1260, 75],\n\n      'G0/1/6': [1323, 140],\n      'G0/1/7': [1323, 75],\n\n      // interface TenGigE0/0/0/22\n      'T0/1/0': [1571, 140],\n      'T0/1/1': [1571, 75],\n\n      'T0/1/2': [1634, 140],\n      'T0/1/3': [1634, 75],\n\n      'T0/1/4': [1696, 140],\n      'T0/1/5': [1696, 75],\n\n      'T0/1/6': [1758, 140],\n      'T0/1/7': [1758, 75],\n\n    };\n\n    for (const prop in positionMap) {\n      if (prop.startsWith('G0')) {\n        positionMap['Gi' + prop.substr(1)] = positionMap[prop];\n        positionMap['GigabitEthernet' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('T0')) {\n        positionMap['Te' + prop.substr(1)] = positionMap[prop];\n        positionMap['TenGigE' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('H0')) {\n        positionMap['Hu' + prop.substr(1)] = positionMap[prop];\n        positionMap['HundredGigE' + prop.substr(1)] = positionMap[prop];\n      }\n    }\n\n    var offsetMap = {};\n    for (let k in positionMap) {\n      offsetX = positionMap[k][0] - IMG_WIDTH / 2;\n      offsetY = positionMap[k][1] - IMG_HEIGHT / 2;\n      offsetMap[k] = [offsetX, offsetY];\n    }\n\n    return {\n      MODEL,\n      THUMBNAIL_PATH,\n      IMG_PATH,\n      IMG_WIDTH,\n      IMG_HEIGHT,\n      PORT_WIDTH,\n      PORT_HEIGHT,\n      offsetMap,\n    };\n  })();\n  //\n})();\n","/* global iida */\n\n(function () {\n  iida.models.asr9901 = (function () {\n\n    var MODEL = 'ASR9901';\n    var THUMBNAIL_PATH = 'static/site/img/sASR9901.jpg';\n    var IMG_PATH = 'static/site/img/ASR9901.jpg';\n    var IMG_WIDTH = 1920;\n    var IMG_HEIGHT = 364;\n    var PORT_WIDTH = 56;\n    var PORT_HEIGHT = 30;\n\n    // (x, y) by paint application\n    var positionMap = {\n      // interface GigabitEthernet0/0/0/1\n      'G0/0/0/0': [155, 68],\n      'G0/0/0/1': [155, 137],\n\n      'G0/0/0/2': [217, 68],\n      'G0/0/0/3': [217, 137],\n\n      'G0/0/0/4': [280, 68],\n      'G0/0/0/5': [280, 137],\n\n      'G0/0/0/6': [343, 68],\n      'G0/0/0/7': [343, 137],\n\n      // interface TenGigE0/0/0/22\n      'T0/0/0/8': [511, 68],\n      'T0/0/0/9': [511, 137],\n\n      'T0/0/0/10': [574, 68],\n      'T0/0/0/11': [574, 137],\n\n      'T0/0/0/12': [637, 68],\n      'T0/0/0/13': [637, 137],\n\n      'T0/0/0/14': [700, 68],\n      'T0/0/0/15': [700, 137],\n\n      'T0/0/0/16': [764, 68],\n      'T0/0/0/17': [764, 137],\n\n      'T0/0/0/18': [827, 68],\n      'T0/0/0/19': [827, 137],\n\n      // interface HundredGigE0/0/0/20\n      'H0/0/0/20': [960, 68],\n      'H0/0/0/21': [960, 137],\n\n      // interface TenGigE0/0/0/22\n      'T0/0/0/22': [1096, 68],\n      'T0/0/0/23': [1096, 137],\n\n      'T0/0/0/24': [1160, 68],\n      'T0/0/0/25': [1160, 137],\n\n      'T0/0/0/26': [1222, 68],\n      'T0/0/0/27': [1222, 137],\n\n      'T0/0/0/28': [1286, 68],\n      'T0/0/0/29': [1286, 137],\n\n      'T0/0/0/30': [1349, 68],\n      'T0/0/0/31': [1349, 137],\n\n      'T0/0/0/32': [1414, 68],\n      'T0/0/0/33': [1414, 137],\n\n      // interface GigabitEthernet0/0/0/34\n      'G0/0/0/34': [1580, 68],\n      'G0/0/0/35': [1580, 137],\n\n      'G0/0/0/36': [1643, 68],\n      'G0/0/0/37': [1643, 137],\n\n      'G0/0/0/38': [1706, 68],\n      'G0/0/0/39': [1706, 137],\n\n      'G0/0/0/40': [1770, 68],\n      'G0/0/0/41': [1770, 137],\n    };\n\n    for (const prop in positionMap) {\n      if (prop.startsWith('G0')) {\n        positionMap['Gi' + prop.substr(1)] = positionMap[prop];\n        positionMap['GigabitEthernet' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('T0')) {\n        positionMap['Te' + prop.substr(1)] = positionMap[prop];\n        positionMap['TenGigE' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('H0')) {\n        positionMap['Hu' + prop.substr(1)] = positionMap[prop];\n        positionMap['HundredGigE' + prop.substr(1)] = positionMap[prop];\n      }\n    }\n\n    var offsetMap = {};\n    for (let k in positionMap) {\n      offsetX = positionMap[k][0] - IMG_WIDTH / 2;\n      offsetY = positionMap[k][1] - IMG_HEIGHT / 2;\n      offsetMap[k] = [offsetX, offsetY];\n    }\n\n    return {\n      MODEL,\n      THUMBNAIL_PATH,\n      IMG_PATH,\n      IMG_WIDTH,\n      IMG_HEIGHT,\n      PORT_WIDTH,\n      PORT_HEIGHT,\n      offsetMap,\n    };\n  })();\n  //\n})();\n","/* global iida */\n\n(function () {\n  iida.models.asr9903 = (function () {\n\n    var MODEL = 'ASR9903';\n    var THUMBNAIL_PATH = 'static/site/img/sASR9903.png';\n    var IMG_PATH = 'static/site/img/ASR9903.png';\n    var IMG_WIDTH = 960;\n    var IMG_HEIGHT = 298;\n    var PORT_WIDTH = 56;\n    var PORT_HEIGHT = 30;\n\n    // (x, y) by paint application\n    var positionMap = {\n      // interface HundredGigE0/0/0/0\n      'H0/0/0/0': [93, 250],\n\n      'H0/0/0/1': [148, 250],\n\n      'H0/0/0/2': [204, 214],\n      'H0/0/0/3': [204, 250],\n\n      'H0/0/0/4': [259, 250],\n\n      'H0/0/0/5': [314, 250],\n\n      'H0/0/0/6': [370, 214],\n      'H0/0/0/7': [370, 250],\n\n      'H0/0/0/8': [425, 250],\n\n      'H0/0/0/9': [480, 250],\n\n      'H0/0/0/10': [536, 214],\n      'H0/0/0/11': [536, 250],\n\n      'H0/0/0/12': [590, 250],\n\n      'H0/0/0/13': [647, 250],\n\n      'H0/0/0/14': [703, 214],\n      'H0/0/0/15': [703, 250],\n\n      'H0/0/0/16': [756, 250],\n\n      'H0/0/0/17': [813, 250],\n\n      'H0/0/0/18': [869, 214],\n      'H0/0/0/19': [869, 250],\n\n    };\n\n    for (const prop in positionMap) {\n      if (prop.startsWith('G0')) {\n        positionMap['Gi' + prop.substr(1)] = positionMap[prop];\n        positionMap['GigabitEthernet' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('T0')) {\n        positionMap['Te' + prop.substr(1)] = positionMap[prop];\n        positionMap['TenGigE' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('H0')) {\n        positionMap['Hu' + prop.substr(1)] = positionMap[prop];\n        positionMap['HundredGigE' + prop.substr(1)] = positionMap[prop];\n      }\n    }\n\n    var offsetMap = {};\n    for (let k in positionMap) {\n      offsetX = positionMap[k][0] - IMG_WIDTH / 2;\n      offsetY = positionMap[k][1] - IMG_HEIGHT / 2;\n      offsetMap[k] = [offsetX, offsetY];\n    }\n\n    return {\n      MODEL,\n      THUMBNAIL_PATH,\n      IMG_PATH,\n      IMG_WIDTH,\n      IMG_HEIGHT,\n      PORT_WIDTH,\n      PORT_HEIGHT,\n      offsetMap,\n    };\n  })();\n  //\n})();\n","/* global iida */\n\n(function () {\n  iida.models.cat2960x24 = (function () {\n\n    var MODEL = 'CAT2960X-24';\n    var THUMBNAIL_PATH = 'static/site/img/sCAT2960X-24.png';\n    var IMG_PATH = 'static/site/img/CAT2960X-24.png';\n    var IMG_WIDTH = 1920;\n    var IMG_HEIGHT = 188;\n    var PORT_WIDTH = 50;\n    var PORT_HEIGHT = 30;\n\n    // (x, y) by paint application\n    var positionMap = {\n\n      // interface GigabitEthernet0/1/0\n      'G0/1': [844, 74],\n      'G0/2': [844, 128],\n\n      'G0/3': [904, 74],\n      'G0/4': [904, 128],\n\n      'G0/5': [964, 74],\n      'G0/6': [964, 128],\n\n      'G0/7': [1025, 74],\n      'G0/8': [1025, 128],\n\n      'G0/9': [1085, 74],\n      'G0/10': [1085, 128],\n\n      'G0/11': [1145, 74],\n      'G0/12': [1145, 128],\n\n      'G0/13': [1231, 74],\n      'G0/14': [1231, 128],\n\n      'G0/15': [1292, 74],\n      'G0/16': [1292, 128],\n\n      'G0/17': [1353, 74],\n      'G0/18': [1353, 128],\n\n      'G0/19': [1412, 74],\n      'G0/20': [1412, 128],\n\n      'G0/21': [1473, 74],\n      'G0/22': [1473, 128],\n\n      'G0/23': [1534, 74],\n      'G0/24': [1534, 128],\n\n    };\n\n    for (const prop in positionMap) {\n      if (prop.startsWith('G0')) {\n        positionMap['Gi' + prop.substr(1)] = positionMap[prop];\n        positionMap['GigabitEthernet' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('T0')) {\n        positionMap['Te' + prop.substr(1)] = positionMap[prop];\n        positionMap['TenGigE' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('H0')) {\n        positionMap['Hu' + prop.substr(1)] = positionMap[prop];\n        positionMap['HundredGigE' + prop.substr(1)] = positionMap[prop];\n      }\n    }\n\n    var offsetMap = {};\n    for (let k in positionMap) {\n      offsetX = positionMap[k][0] - IMG_WIDTH / 2;\n      offsetY = positionMap[k][1] - IMG_HEIGHT / 2;\n      offsetMap[k] = [offsetX, offsetY];\n    }\n\n    return {\n      MODEL,\n      THUMBNAIL_PATH,\n      IMG_PATH,\n      IMG_WIDTH,\n      IMG_HEIGHT,\n      PORT_WIDTH,\n      PORT_HEIGHT,\n      offsetMap,\n    };\n  })();\n  //\n})();\n","/* global iida */\n\n(function () {\n  iida.models.cat9300_24 = (function () {\n\n    var MODEL = 'CAT9300-24';\n    var THUMBNAIL_PATH = 'static/site/img/sCAT9300-24.jpg';\n    var IMG_PATH = 'static/site/img/CAT9300-24.jpg';\n    var IMG_WIDTH = 1920;\n    var IMG_HEIGHT = 177;\n    var PORT_WIDTH = 50;\n    var PORT_HEIGHT = 30;\n\n    // (x, y) by paint application\n    var positionMap = {\n\n      // interface GigabitEthernet1/0/1\n      'G1/0/1': [842, 64],\n      'G1/0/2': [842, 120],\n\n      'G1/0/3': [903, 64],\n      'G1/0/4': [903, 120],\n\n      'G1/0/5': [963, 64],\n      'G1/0/6': [963, 120],\n\n      'G1/0/7': [1024, 64],\n      'G1/0/8': [1024, 120],\n\n      'G1/0/9': [1085, 64],\n      'G1/0/10': [1085, 120],\n\n      'G1/0/11': [1145, 64],\n      'G1/0/12': [1145, 120],\n\n      'G1/0/13': [1231, 64],\n      'G1/0/14': [1231, 120],\n\n      'G1/0/15': [1292, 64],\n      'G1/0/16': [1292, 120],\n\n      'G1/0/17': [1353, 64],\n      'G1/0/18': [1353, 120],\n\n      'G1/0/19': [1412, 64],\n      'G1/0/20': [1412, 120],\n\n      'G1/0/21': [1473, 64],\n      'G1/0/22': [1473, 120],\n\n      'G1/0/23': [1534, 64],\n      'G1/0/24': [1534, 120],\n\n    };\n\n    for (const prop in positionMap) {\n      if (prop.startsWith('G1')) {\n        positionMap['Gi' + prop.substr(1)] = positionMap[prop];\n        positionMap['GigabitEthernet' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('T0')) {\n        positionMap['Te' + prop.substr(1)] = positionMap[prop];\n        positionMap['TenGigE' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('H0')) {\n        positionMap['Hu' + prop.substr(1)] = positionMap[prop];\n        positionMap['HundredGigE' + prop.substr(1)] = positionMap[prop];\n      }\n    }\n\n    var offsetMap = {};\n    for (let k in positionMap) {\n      offsetX = positionMap[k][0] - IMG_WIDTH / 2;\n      offsetY = positionMap[k][1] - IMG_HEIGHT / 2;\n      offsetMap[k] = [offsetX, offsetY];\n    }\n\n    return {\n      MODEL,\n      THUMBNAIL_PATH,\n      IMG_PATH,\n      IMG_WIDTH,\n      IMG_HEIGHT,\n      PORT_WIDTH,\n      PORT_HEIGHT,\n      offsetMap,\n    };\n  })();\n  //\n})();\n","/* global iida */\n\n(function () {\n  iida.models.fgt200e = (function () {\n\n    var MODEL = 'FGT200E';\n    var THUMBNAIL_PATH = 'static/site/img/sFGT200E.png';\n    var IMG_PATH = 'static/site/img/FGT200E.png';\n    var IMG_WIDTH = 1920;\n    var IMG_HEIGHT = 186;\n    var PORT_WIDTH = 52;\n    var PORT_HEIGHT = 38;\n\n    // (x, y) by paint application\n    var positionMap = {\n\n      // WAN1 WAN2\n      'WAN1': [918, 64],\n      'WAN2': [918, 123],\n\n      'LAN1': [981, 64],\n      'LAN2': [981, 123],\n\n      'LAN3': [1043, 64],\n      'LAN4': [1043, 123],\n\n      'LAN5': [1105, 64],\n      'LAN6': [1105, 123],\n\n      'LAN7': [1168, 64],\n      'LAN8': [1168, 123],\n\n      'LAN9': [1230, 64],\n      'LAN10': [1230, 123],\n\n      'LAN11': [1330, 64],\n      'LAN12': [1330, 123],\n\n      'LAN13': [1392, 64],\n      'LAN14': [1392, 123],\n\n      'LAN15': [1600, 64],\n      'LAN16': [1600, 123],\n\n      'LAN17': [1664, 64],\n      'LAN18': [1664, 123],\n\n    };\n\n    var offsetMap = {};\n    for (let k in positionMap) {\n      offsetX = positionMap[k][0] - IMG_WIDTH / 2;\n      offsetY = positionMap[k][1] - IMG_HEIGHT / 2;\n      offsetMap[k] = [offsetX, offsetY];\n    }\n\n    return {\n      MODEL,\n      THUMBNAIL_PATH,\n      IMG_PATH,\n      IMG_WIDTH,\n      IMG_HEIGHT,\n      PORT_WIDTH,\n      PORT_HEIGHT,\n      offsetMap,\n    };\n  })();\n  //\n})();\n","/* global iida */\n\n(function () {\n  iida.models.n3172 = (function () {\n\n    var MODEL = 'N3172';\n    var THUMBNAIL_PATH = 'static/site/img/sNexus3172PQ.png';\n    var IMG_PATH = 'static/site/img/Nexus3172PQ.png';\n    var IMG_WIDTH = 1920;\n    var IMG_HEIGHT = 188;\n    var PORT_WIDTH = 56;\n    var PORT_HEIGHT = 36;\n\n    // (x, y) by paint application\n    var positionMap = {\n\n      // interface Ethernet1/1\n      'E1/1': [77, 40],\n      'E1/2': [77, 110],\n\n      'E1/3': [140, 40],\n      'E1/4': [140, 110],\n\n      'E1/5': [203, 40],\n      'E1/6': [203, 110],\n\n      'E1/7': [264, 40],\n      'E1/8': [264, 110],\n\n      'E1/9': [327, 40],\n      'E1/10': [327, 110],\n\n      'E1/11': [388, 40],\n      'E1/12': [388, 110],\n\n      'E1/13': [451, 40],\n      'E1/14': [451, 110],\n\n      'E1/15': [513, 40],\n      'E1/16': [513, 110],\n\n      'E1/17': [575, 40],\n      'E1/18': [575, 110],\n\n      'E1/19': [638, 40],\n      'E1/20': [638, 110],\n\n      'E1/21': [700, 40],\n      'E1/22': [700, 110],\n\n      'E1/23': [763, 40],\n      'E1/24': [763, 110],\n\n      'E1/25': [849, 40],\n      'E1/26': [849, 110],\n\n      'E1/27': [911, 40],\n      'E1/28': [911, 110],\n\n      'E1/29': [973, 40],\n      'E1/30': [973, 110],\n\n      'E1/31': [1036, 40],\n      'E1/32': [1036, 110],\n\n      'E1/33': [1098, 40],\n      'E1/34': [1098, 110],\n\n      'E1/35': [1159, 40],\n      'E1/36': [1159, 110],\n\n      'E1/37': [1222, 40],\n      'E1/38': [1222, 110],\n\n      'E1/39': [1284, 40],\n      'E1/40': [1284, 110],\n\n      'E1/41': [1347, 40],\n      'E1/42': [1347, 110],\n\n      'E1/43': [1409, 40],\n      'E1/44': [1409, 110],\n\n      'E1/45': [1471, 40],\n      'E1/46': [1471, 110],\n\n      'E1/47': [1533, 40],\n      'E1/48': [1533, 110],\n\n      'E1/49': [1644, 40],\n      'E1/50': [1644, 110],\n\n      'E1/51': [1737, 40],\n      'E1/52': [1737, 110],\n\n      'E1/53': [1829, 40],\n      'E1/54': [1829, 110],\n\n    };\n\n    for (const prop in positionMap) {\n      if (prop.startsWith('E1')) {\n        positionMap['Eth' + prop.substr(1)] = positionMap[prop];\n        positionMap['Ethernet' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('G0')) {\n        positionMap['Gi' + prop.substr(1)] = positionMap[prop];\n        positionMap['GigabitEthernet' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('T0')) {\n        positionMap['Te' + prop.substr(1)] = positionMap[prop];\n        positionMap['TenGigE' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('H0')) {\n        positionMap['Hu' + prop.substr(1)] = positionMap[prop];\n        positionMap['HundredGigE' + prop.substr(1)] = positionMap[prop];\n      }\n    }\n\n    var offsetMap = {};\n    for (let k in positionMap) {\n      offsetX = positionMap[k][0] - IMG_WIDTH / 2;\n      offsetY = positionMap[k][1] - IMG_HEIGHT / 2;\n      offsetMap[k] = [offsetX, offsetY];\n    }\n\n    return {\n      MODEL,\n      THUMBNAIL_PATH,\n      IMG_PATH,\n      IMG_WIDTH,\n      IMG_HEIGHT,\n      PORT_WIDTH,\n      PORT_HEIGHT,\n      offsetMap,\n    };\n  })();\n  //\n})();\n","/* global iida */\n\n(function () {\n  iida.models.ncs5501 = (function () {\n\n    var MODEL = 'NCS5501';\n    var THUMBNAIL_PATH = 'static/site/img/sNCS-5501.png';\n    var IMG_PATH = 'static/site/img/NCS-5501.png';\n    var IMG_WIDTH = 1920;\n    var IMG_HEIGHT = 168;\n    var PORT_WIDTH = 56;\n    var PORT_HEIGHT = 30;\n\n    // (x, y) by paint application\n    var positionMap = {\n      // interface GigabitEthernet0/0/0/1\n      // interface TenGigE0/0/0/1\n\n      'G0/0/0/0': [80, 42],\n      'G0/0/0/1': [80, 108],\n\n      'G0/0/0/2': [140, 42],\n      'G0/0/0/3': [140, 108],\n\n      'G0/0/0/4': [205, 42],\n      'G0/0/0/5': [205, 108],\n\n      'G0/0/0/6': [270, 42],\n      'G0/0/0/7': [270, 108],\n\n      'G0/0/0/8': [330, 42],\n      'G0/0/0/9': [330, 108],\n\n      'G0/0/0/10': [390, 42],\n      'G0/0/0/11': [390, 108],\n\n      'G0/0/0/12': [455, 42],\n      'G0/0/0/13': [455, 108],\n\n      'G0/0/0/14': [515, 42],\n      'G0/0/0/15': [515, 108],\n\n      'G0/0/0/16': [600, 42],\n      'G0/0/0/17': [600, 108],\n\n      'G0/0/0/18': [660, 42],\n      'G0/0/0/19': [660, 108],\n\n      'G0/0/0/20': [720, 42],\n      'G0/0/0/21': [720, 108],\n\n      'G0/0/0/22': [780, 42],\n      'G0/0/0/23': [780, 108],\n\n      'G0/0/0/24': [840, 42],\n      'G0/0/0/25': [840, 108],\n\n      'G0/0/0/26': [900, 42],\n      'G0/0/0/27': [900, 108],\n\n      'G0/0/0/28': [965, 42],\n      'G0/0/0/29': [965, 108],\n\n      'G0/0/0/30': [1025, 42],\n      'G0/0/0/31': [1025, 108],\n\n      'G0/0/0/32': [1107, 42],\n      'G0/0/0/33': [1107, 108],\n\n      'G0/0/0/34': [1170, 42],\n      'G0/0/0/35': [1170, 108],\n\n      'G0/0/0/36': [1230, 42],\n      'G0/0/0/37': [1230, 108],\n\n      'G0/0/0/38': [1290, 42],\n      'G0/0/0/39': [1290, 108],\n\n      'G0/0/0/40': [1355, 42],\n      'G0/0/0/41': [1355, 108],\n\n      'G0/0/0/42': [1415, 42],\n      'G0/0/0/43': [1415, 108],\n\n      'G0/0/0/44': [1477, 42],\n      'G0/0/0/45': [1477, 108],\n\n      'G0/0/0/46': [1540, 42],\n      'G0/0/0/47': [1540, 108],\n\n      // interface HundredGigE0/0/1/0\n      'H0/0/1/0': [1640, 44],\n      'H0/0/1/1': [1640, 112],\n\n      'H0/0/1/2': [1740, 44],\n      'H0/0/1/3': [1740, 112],\n\n      'H0/0/1/4': [1835, 44],\n      'H0/0/1/5': [1835, 112],\n    };\n\n    for (const prop in positionMap) {\n      if (prop.startsWith('G0')) {\n        positionMap['Gi' + prop.substr(1)] = positionMap[prop];\n        positionMap['GigabitEthernet' + prop.substr(1)] = positionMap[prop];\n        positionMap['Te' + prop.substr(1)] = positionMap[prop];\n        positionMap['TenGigE' + prop.substr(1)] = positionMap[prop];\n      } else if (prop.startsWith('H0')) {\n        positionMap['Hu' + prop.substr(1)] = positionMap[prop];\n        positionMap['HundredGigE' + prop.substr(1)] = positionMap[prop];\n      }\n    }\n\n    var offsetMap = {};\n    for (let k in positionMap) {\n      offsetX = positionMap[k][0] - IMG_WIDTH / 2;\n      offsetY = positionMap[k][1] - IMG_HEIGHT / 2;\n      offsetMap[k] = [offsetX, offsetY];\n    }\n\n    return {\n      MODEL,\n      THUMBNAIL_PATH,\n      IMG_PATH,\n      IMG_WIDTH,\n      IMG_HEIGHT,\n      PORT_WIDTH,\n      PORT_HEIGHT,\n      offsetMap,\n    };\n  })();\n  //\n})();\n","/* global iida */\n\n(function () {\n  iida.models.ncs55a1 = (function () {\n\n    var MODEL = 'NCS55A1-36H';\n    var THUMBNAIL_PATH = 'static/site/img/sNCS-55A1-36H.png';\n    var IMG_PATH = 'static/site/img/NCS-55A1-36H.png';\n    var IMG_WIDTH = 1920;\n    var IMG_HEIGHT = 171;\n    var PORT_WIDTH = 78;\n    var PORT_HEIGHT = 34;\n\n    // (x, y) by paint application\n    var positionMap = {\n      // interface HundredGigE0/0/0/1\n      'H0/0/0/0': [275, 50],\n      'H0/0/0/1': [275, 115],\n\n      'H0/0/0/2': [360, 50],\n      'H0/0/0/3': [360, 115],\n\n      'H0/0/0/4': [460, 50],\n      'H0/0/0/5': [460, 115],\n\n      'H0/0/0/6': [555, 50],\n      'H0/0/0/7': [555, 115],\n\n      'H0/0/0/8': [645, 50],\n      'H0/0/0/9': [645, 115],\n\n      'H0/0/0/10': [730, 50],\n      'H0/0/0/11': [730, 115],\n\n      'H0/0/0/12': [830, 50],\n      'H0/0/0/13': [830, 115],\n\n      'H0/0/0/14': [910, 50],\n      'H0/0/0/15': [910, 115],\n\n      'H0/0/0/16': [1010, 50],\n      'H0/0/0/17': [1010, 115],\n\n      'H0/0/0/18': [1095, 50],\n      'H0/0/0/19': [1095, 115],\n\n      'H0/0/0/20': [1195, 50],\n      'H0/0/0/21': [1195, 115],\n\n      'H0/0/0/22': [1275, 50],\n      'H0/0/0/23': [1275, 115],\n\n      'H0/0/0/24': [1380, 50],\n      'H0/0/0/25': [1380, 115],\n\n      'H0/0/0/26': [1460, 50],\n      'H0/0/0/27': [1460, 115],\n\n      'H0/0/0/28': [1560, 50],\n      'H0/0/0/29': [1560, 115],\n\n      'H0/0/0/30': [1645, 50],\n      'H0/0/0/31': [1645, 115],\n\n      'H0/0/0/32': [1745, 50],\n      'H0/0/0/33': [1745, 115],\n\n      'H0/0/0/34': [1830, 50],\n      'H0/0/0/35': [1830, 115],\n    };\n\n    for (const prop in positionMap) {\n      if (prop.startsWith('H0')) {\n        positionMap['Hu' + prop.substr(1)] = positionMap[prop];\n        positionMap['HundredGigE' + prop.substr(1)] = positionMap[prop];\n      }\n    }\n\n    var offsetMap = {};\n    for (let k in positionMap) {\n      offsetX = positionMap[k][0] - IMG_WIDTH / 2;\n      offsetY = positionMap[k][1] - IMG_HEIGHT / 2;\n      offsetMap[k] = [offsetX, offsetY];\n    }\n\n    return {\n      MODEL,\n      THUMBNAIL_PATH,\n      IMG_PATH,\n      IMG_WIDTH,\n      IMG_HEIGHT,\n      PORT_WIDTH,\n      PORT_HEIGHT,\n      offsetMap,\n    };\n  })();\n  //\n})();\n","/* global iida */\n\n(function () {\n  iida.appdata.bundleEthers = [\n    {\n      id: 'CPE#1#2_BE1000',\n      label: 'Bundle-Ether1000',\n      ports: [\n        'C#1Te0/0/0/0',\n        'C#1Hu0/0/1/4',\n        'C#2Te0/0/0/0',\n        'C#2Hu0/0/1/4',\n      ],\n    },\n\n    {\n      id: 'CPE#3#4_BE1000',\n      label: 'Bundle-Ether1000',\n      ports: ['C#3Te0/0/0/0', 'C#4Te0/0/0/0'],\n    },\n\n    {\n      id: 'BPE#1#2_BE1000',\n      label: 'Bundle-Ether1000',\n      ports: ['B#1Te0/0/0/0', 'B#2Te0/0/0/0'],\n    },\n\n    {\n      id: 'BPE#3#4_BE1000',\n      label: 'Bundle-Ether1000',\n      ports: ['B#3Te0/0/0/0', 'B#4Te0/0/0/0'],\n    },\n\n    {\n      id: 'CPE#1#2_BE1010',\n      label: 'Bundle-Ether1010',\n      ports: ['C#1Te0/0/0/10', 'C#2Te0/0/0/10'],\n    },\n\n    {\n      id: 'BPE#1#2_BE1009',\n      label: 'Bundle-Ether1009',\n      ports: ['B#1Te0/0/0/9', 'B#2Te0/0/0/9'],\n    },\n  ];\n})();\n","/* global iida */\n\n(function () {\n  // see position.pptx\n  var col, row;\n\n  var routers;\n  var edges;\n\n  col = 6;\n  row = 3;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      height: 200,\n      id: 'C#1',\n      label: 'C#1\\nNCS-55A1-36H-B\\ntac-his-cr103\\nloopback:172.16.11.3\\nMgmt 10.100.1.244',\n      popper: 'SID:20103',\n      dragWith: ['C#2', 'B#1', 'B#2'],\n      classes: ['P'],\n      data: { redundant: 1, model: 'NCS55A1-36H' },\n      ports: [\n        {\n          id: 'Hu0/0/0/0',\n          label: 'Hu0/0/0/0\\n.89',\n          align: ['LO', 'T2'],\n        },\n        {\n          id: 'Hu0/0/0/16',\n          label: 'Hu0/0/0/16\\n.9',\n          align: ['RO', 'T2'],\n        },\n        {\n          id: 'Hu0/0/0/27',\n          label: 'Hu0/0/0/27\\n.42',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Hu0/0/0/22',\n          label: 'Hu0/0/0/22\\n.37',\n          align: ['C', 'B'],\n        },\n        {\n          id: 'Hu0/0/0/1',\n          label: 'Hu0/0/0/1\\n.97',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 6;\n  row = 4;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      height: 200,\n      id: 'C#2',\n      label: 'C#2\\nNCS-55A1-36H-B\\ntac-his-cr104\\nloopback:172.16.11.4\\nMgmt 10.100.1.243',\n      popper: 'SID:20104',\n      dragWith: ['C#1', 'B#1', 'B#2'],\n      classes: ['P'],\n      data: { redundant: 2, model: 'NCS55A1-36H' },\n      ports: [\n        {\n          id: 'Hu0/0/0/0',\n          label: 'Hu0/0/0/0\\n.94',\n          align: ['LO', 'T2'],\n        },\n        {\n          id: 'Hu0/0/0/22',\n          label: 'Hu0/0/0/22\\n.38',\n          align: ['C', 'T'],\n        },\n        {\n          id: 'Hu0/0/0/16',\n          label: 'Hu0/0/0/16\\n.13',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Hu0/0/0/27',\n          label: 'Hu0/0/0/27\\n.46',\n          align: ['RO', 'B2'],\n        },\n        {\n          id: 'Hu0/0/0/1',\n          label: 'Hu0/0/0/1\\n.101',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 6;\n  row = 5;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      height: 200,\n      id: 'B#1',\n      label: 'B#1\\nNCS-55A1-36H-B\\ntab-his-cr201\\nloopback:172.16.11.1\\nMgmt 10.100.1.246',\n      popper: 'SID:20101',\n      dragWith: ['C#1', 'C#2', 'B#2'],\n      classes: ['P'],\n      data: { redundant: 1, model: 'NCS55A1-36H' },\n      ports: [\n        {\n          id: 'Hu0/0/0/27',\n          label: 'Hu0/0/0/27\\n.41',\n          align: ['RO', 'T2'],\n        },\n        {\n          id: 'Hu0/0/0/16',\n          label: 'Hu0/0/0/16\\n.1',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Hu0/0/0/22',\n          label: 'Hu0/0/0/22\\n.33',\n          align: ['C', 'B'],\n        },\n        {\n          id: 'Hu0/0/0/1',\n          label: 'Hu0/0/0/1\\n.9',\n          align: ['LO', 'B2'],\n        },\n        {\n          id: 'Hu0/0/0/0',\n          label: 'Hu0/0/0/0\\n.1',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 6;\n  row = 6;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      height: 200,\n      id: 'B#2',\n      label: 'B#2\\nNCS-55A1-36H-B\\ntab-his-cr202\\nloopback:172.16.11.2\\nMgmt 10.100.1.245',\n      popper: 'SID:20102',\n      dragWith: ['C#1', 'C#2', 'B#1'],\n      classes: ['P'],\n      data: { redundant: 2, model: 'NCS55A1-36H' },\n      ports: [\n        {\n          id: 'Hu0/0/0/22',\n          label: 'Hu0/0/0/22\\n.34',\n          align: ['C', 'T'],\n        },\n        {\n          id: 'Hu0/0/0/27',\n          label: 'Hu0/0/0/27\\n.45',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Hu0/0/0/16',\n          label: 'Hu0/0/0/16\\n.5',\n          align: ['RO', 'B2'],\n        },\n        {\n          id: 'Hu0/0/0/1',\n          label: 'Hu0/0/0/1\\n.13',\n          align: ['LO', 'B2'],\n        },\n        {\n          id: 'Hu0/0/0/0',\n          label: 'Hu0/0/0/0\\n.5',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  edges = [\n    {\n      sourceRouter: 'C#1',\n      sourcePort: 'Hu0/0/0/22',\n      targetRouter: 'C#2',\n      targetPort: 'Hu0/0/0/22',\n      label: '192.168.19.36/30',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'B#1',\n      sourcePort: 'Hu0/0/0/22',\n      targetRouter: 'B#2',\n      targetPort: 'Hu0/0/0/22',\n      label: '192.168.19.32/30',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'C#1',\n      sourcePort: 'Hu0/0/0/27',\n      targetRouter: 'B#1',\n      targetPort: 'Hu0/0/0/27',\n      label: '192.168.19.40/30',\n      weight: 1,\n      classes: ['segmentsR'],\n      segmentDistances: 25,\n    },\n\n    {\n      sourceRouter: 'C#2',\n      sourcePort: 'Hu0/0/0/27',\n      targetRouter: 'B#2',\n      targetPort: 'Hu0/0/0/27',\n      label: '192.168.19.44/30',\n      weight: 5,\n      classes: ['segmentsR'],\n      segmentDistances: 25 + 25,\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.edges, edges);\n})();\n","/* global iida */\n\n(function () {\n  // see position.pptx\n  var col, row;\n\n  var routers;\n  var edges;\n\n  col = 8;\n  row = 2;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'C#1',\n      label: 'C#1\\nASR 9901\\ntac-his-sr103\\nloopback:172.16.13.3\\nMgmt 10.100.1.240',\n      popper: 'SID:20303',\n      classes: ['PE'],\n      dragWith: ['C#2'],\n      data: { redundant: 1, model: 'ASR9901' },\n      ports: [\n        {\n          id: 'Hu0/0/0/20',\n          label: 'Hu0/0/0/20\\n.10',\n          align: ['LO', 'C'],\n        },\n        {\n          id: 'Hu0/0/0/21',\n          label: 'Hu0/0/0/21\\n.5',\n          align: ['C', 'B'],\n        },\n        {\n          id: 'Te0/0/0/8',\n          label: 'Te0/0/0/8',\n          align: ['RO', 'T'],\n        },\n        {\n          id: 'Te0/0/0/9',\n          label: 'Te0/0/0/9',\n          align: ['RO', 'T2'],\n        },\n        {\n          id: 'Te0/0/0/10',\n          label: 'Te0/0/0/10',\n          align: ['RO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 8;\n  row = 3;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'C#2',\n      label: 'C#2\\nASR 9901\\ntac-his-sr104\\nloopback:172.16.13.4\\nMgmt 10.100.1.239',\n      popper: 'SID:20304',\n      classes: ['PE'],\n      dragWith: ['C#1'],\n      data: { redundant: 2, model: 'ASR9901' },\n      ports: [\n        {\n          id: 'Hu0/0/0/21',\n          label: 'Hu0/0/0/21\\n.6',\n          align: ['C', 'T'],\n        },\n        {\n          id: 'Hu0/0/0/20',\n          label: 'Hu0/0/0/20\\n.14',\n          align: ['LO', 'C'],\n        },\n        {\n          id: 'Te0/0/0/8',\n          label: 'Te0/0/0/8',\n          align: ['RO', 'T'],\n        },\n        {\n          id: 'Te0/0/0/9',\n          label: 'Te0/0/0/9',\n          align: ['RO', 'T2'],\n        },\n        {\n          id: 'Te0/0/0/10',\n          label: 'Te0/0/0/10',\n          align: ['RO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 8;\n  row = 6;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'B#1',\n      label: 'B#1\\nASR 9901\\ntab-his-sr201\\nloopback:172.16.13.1\\nMgmt 10.100.1.242',\n      popper: 'SID:20301',\n      classes: ['PE'],\n      dragWith: ['B#2'],\n      data: { redundant: 1, model: 'ASR9901' },\n      ports: [\n        {\n          id: 'Hu0/0/0/21',\n          label: 'Hu0/0/0/21\\n.1',\n          align: ['C', 'B'],\n        },\n\n        {\n          id: 'Hu0/0/0/20',\n          label: 'Hu0/0/0/20\\n.2',\n          align: ['LO', 'C'],\n        },\n\n        {\n          id: 'Te0/0/0/8',\n          label: 'Te0/0/0/8\\n.137',\n          align: ['RO', 'T'],\n        },\n\n        {\n          id: 'Te0/0/0/9',\n          label: 'Te0/0/0/9',\n          align: ['RO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 8;\n  row = 7;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'B#2',\n      label: 'B#2\\nASR 9901\\ntab-his-sr202\\nloopback:172.16.13.2\\nMgmt 10.100.1.241',\n      popper: 'SID:20302',\n      classes: ['PE'],\n      dragWith: ['B#1'],\n      data: { redundant: 2, model: 'ASR9901' },\n      ports: [\n        {\n          id: 'Hu0/0/0/21',\n          label: 'Hu0/0/0/21\\n.2',\n          align: ['C', 'T'],\n        },\n\n        {\n          id: 'Hu0/0/0/20',\n          label: 'Hu0/0/0/20\\n.6',\n          align: ['LO', 'C'],\n        },\n\n        {\n          id: 'Te0/0/0/8',\n          label: 'Te0/0/0/8\\n.141',\n          align: ['RO', 'T'],\n        },\n\n        {\n          id: 'Te0/0/0/9',\n          label: 'Te0/0/0/9',\n          align: ['RO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  edges = [\n    {\n      sourceRouter: 'C#1',\n      sourcePort: 'Hu0/0/0/20',\n      targetRouter: 'C#1',\n      targetPort: 'Hu0/0/0/16',\n      label: '192.168.16.8/30',\n      classes: ['taxiL'],\n      taxiTurn: 60,\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'C#2',\n      sourcePort: 'Hu0/0/0/20',\n      targetRouter: 'C#2',\n      targetPort: 'Hu0/0/0/16',\n      label: '192.168.16.12/30',\n      classes: ['taxiL'],\n      taxiTurn: 60,\n      weight: 5,\n    },\n\n    {\n      sourceRouter: 'C#2',\n      sourcePort: 'Hu0/0/0/21',\n      targetRouter: 'C#1',\n      targetPort: 'Hu0/0/0/21',\n      label: '192.168.18.4/30',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'B#1',\n      sourcePort: 'Hu0/0/0/20',\n      targetRouter: 'B#1',\n      targetPort: 'Hu0/0/0/16',\n      label: '192.168.16.0/30',\n      classes: ['taxiL'],\n      taxiTurn: 60,\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'B#2',\n      sourcePort: 'Hu0/0/0/21',\n      targetRouter: 'B#1',\n      targetPort: 'Hu0/0/0/21',\n      label: '192.168.18.0/30',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'B#2',\n      sourcePort: 'Hu0/0/0/20',\n      targetRouter: 'B#2',\n      targetPort: 'Hu0/0/0/16',\n      label: '192.168.16.4/30',\n      classes: ['taxiL'],\n      taxiTurn: 60,\n      weight: 5,\n    },\n  ];\n\n  Array.prototype.push.apply(iida.appdata.edges, edges);\n})();\n","/* global iida */\n\n(function () {\n  // see position.pptx\n  var col, row;\n\n  var routers;\n  var edges;\n\n  col = 4;\n  row = 1;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'C#1',\n      label: 'C#1\\nNCS5501\\ntac-his-ur527\\nloopback:172.16.14.27\\nMgmt 10.100.1.86',\n      popper: 'SID:20427',\n      classes: ['PE'],\n      dragWith: 'C#2',\n      data: { redundant: 1, model: 'NCS5501' },\n      ports: [\n        {\n          id: 'Hu0/0/1/0',\n          label: 'Hu0/0/1/0\\n.90',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Hu0/0/1/2',\n          label: 'Hu0/0/1/2\\n.45',\n          align: ['C', 'B'],\n        },\n        {\n          id: 'Te0/0/0/0',\n          label: 'Te0/0/0/0\\nBundle-E1000',\n          align: ['LO', 'C'],\n        },\n        {\n          id: 'Hu0/0/1/4',\n          label: 'Hu0/0/1/4',\n          align: ['L', 'T'],\n        },\n        {\n          id: 'Hu0/0/1/5',\n          label: 'Hu0/0/1/5\\n.253',\n          align: ['C', 'T'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 4;\n  row = 2;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'C#2',\n      label: 'C#2\\nNCS5501\\ntac-his-ur528\\nloopback:172.16.14.28\\nMgmt 10.100.1.92',\n      popper: 'SID:20428',\n      classes: ['PE'],\n      dragWith: 'C#1',\n      data: { redundant: 2, model: 'NCS5501' },\n      ports: [\n        {\n          id: 'Hu0/0/1/2',\n          label: 'Hu0/0/1/2\\n.46',\n          align: ['C', 'T'],\n        },\n        {\n          id: 'Hu0/0/1/0',\n          label: 'Hu0/0/1/0\\n.93',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Hu0/0/1/5',\n          label: 'Hu0/0/1/5\\n.254',\n          align: ['C', 'B'],\n        },\n        {\n          id: 'Hu0/0/1/4',\n          label: 'Hu0/0/1/4',\n          align: ['L', 'B'],\n        },\n        {\n          id: 'Te0/0/0/0',\n          label: 'Te0/0/0/0\\nBundle-E1000',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 4;\n  row = 3;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'C#3',\n      label: 'C#3\\nNCS5501\\ntac-his-ur529\\nloopback:172.16.14.29\\nMgmt 10.100.1.98\\n',\n      popper: 'SID:20429',\n      classes: ['PE'],\n      dragWith: 'C#4',\n      data: { redundant: 1, model: 'NCS5501' },\n      ports: [\n        {\n          id: 'Hu0/0/1/0',\n          label: 'Hu0/0/1/0\\n.98',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Hu0/0/1/2',\n          label: 'Hu0/0/1/2\\n.49',\n          align: ['C', 'B'],\n        },\n        {\n          id: 'Te0/0/0/0',\n          label: 'Te0/0/0/0\\nBundle-E1000',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 4;\n  row = 4;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'C#4',\n      label: 'C#4\\nNCS5501\\ntac-his-ur530\\nloobback:172.16.14.30\\nMgmt 10.100.1.104',\n      popper: 'SID:20430',\n      classes: ['PE'],\n      dragWith: 'C#3',\n      data: { redundant: 2, model: 'NCS5501' },\n      ports: [\n        {\n          id: 'Hu0/0/1/2',\n          label: 'Hu0/0/1/2\\n.50',\n          align: ['C', 'T'],\n        },\n        {\n          id: 'Hu0/0/1/0',\n          label: 'Hu0/0/1/0\\n.102',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Te0/0/0/0',\n          label: 'Te0/0/0/0\\nBundle-E1000',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 4;\n  row = 5;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'B#1',\n      label: 'B#1\\nNCS5501\\ntab-his-ur517\\nloopback:172.16.14.17\\nMgmt 10.100.1.44',\n      popper: 'SID:20417',\n      classes: ['PE'],\n      dragWith: 'B#2',\n      data: { redundant: 1, model: 'NCS5501' },\n      ports: [\n        {\n          id: 'Hu0/0/1/0',\n          label: 'Hu0/0/1/0\\n.2',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Hu0/0/1/2',\n          label: 'Hu0/0/1/2\\n.1',\n          align: ['C', 'B'],\n        },\n        {\n          id: 'Te0/0/0/0',\n          label: 'Te0/0/0/0\\nBundle-E1000',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 4;\n  row = 6;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'B#2',\n      label: 'B#2\\nNCS5501\\ntab-his-ur518\\nloopback:172.16.14.18\\nMgmt 10.100.1.45',\n      popper: 'SID:20418',\n      classes: ['PE'],\n      dragWith: 'B#1',\n      data: { redundant: 2, model: 'NCS5501' },\n      ports: [\n        {\n          id: 'Hu0/0/1/2',\n          label: 'Hu0/0/1/2\\n.2',\n          align: ['C', 'T'],\n        },\n        {\n          id: 'Hu0/0/1/0',\n          label: 'Hu0/0/1/0\\n.6',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Te0/0/0/0',\n          label: 'Te0/0/0/0\\nBundle-E1000',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 4;\n  row = 7;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'B#3',\n      label: 'B#3\\nNCS5501\\ntab-his-ur519\\nloopback:172.16.14.19\\nMgmt 10.100.1.50',\n      popper: 'SID:20419',\n      classes: ['PE'],\n      dragWith: 'B#4',\n      data: { redundant: 1, model: 'NCS5501' },\n      ports: [\n        {\n          id: 'Hu0/0/1/0',\n          label: 'Hu0/0/1/0\\n.10',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Hu0/0/1/2',\n          label: 'Hu0/0/1/2\\n.5',\n          align: ['C', 'B'],\n        },\n        {\n          id: 'Te0/0/0/0',\n          label: 'Te0/0/0/0\\nBundle-E1000',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  col = 4;\n  row = 8;\n  routers = [\n    {\n      grid: { row: row, col: col },\n      id: 'B#4',\n      label: 'B#4\\nNCS5501\\ntab-his-ur520\\nloopback:172.16.14.20\\nMgmt 10.100.1.51\\n',\n      popper: 'SID:20420',\n      classes: ['PE'],\n      dragWith: 'B#3',\n      data: { redundant: 2, model: 'NCS5501' },\n      ports: [\n        {\n          id: 'Hu0/0/1/2',\n          label: 'Hu0/0/1/2\\n.6',\n          align: ['C', 'T'],\n        },\n        {\n          id: 'Hu0/0/1/0',\n          label: 'Hu0/0/1/0\\n.14',\n          align: ['RO', 'C'],\n        },\n        {\n          id: 'Te0/0/0/0',\n          label: 'Te0/0/0/0\\nBundle-E1000',\n          align: ['LO', 'C'],\n        },\n      ],\n    },\n  ];\n  Array.prototype.push.apply(iida.appdata.routers, routers);\n\n  edges = [\n    {\n      sourceRouter: 'C#1',\n      sourcePort: 'Hu0/0/1/5',\n      targetRouter: 'C#1',\n      targetPort: 'Hu0/0/1/4',\n      label: '.253',\n      weight: 1,\n      classes: ['segmentsL'],\n      segmentDistances: 25,\n    },\n\n    {\n      sourceRouter: 'C#1',\n      sourcePort: 'Hu0/0/1/0',\n      targetRouter: 'C#1',\n      targetPort: 'Hu0/0/0/0',\n      label: '192.168.10.88/30',\n      classes: ['taxiR'],\n      taxiTurn: '100',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'C#2',\n      sourcePort: 'Hu0/0/1/5',\n      targetRouter: 'C#2',\n      targetPort: 'Hu0/0/1/4',\n      label: '.254',\n      weight: 1,\n      classes: ['segmentsR'],\n      segmentDistances: 25,\n    },\n\n    {\n      sourceRouter: 'C#1',\n      sourcePort: 'Hu0/0/1/2',\n      targetRouter: 'C#2',\n      targetPort: 'Hu0/0/1/2',\n      label: '192.168.14.44/30',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'C#2',\n      sourcePort: 'Hu0/0/1/0',\n      targetRouter: 'C#2',\n      targetPort: 'Hu0/0/0/0',\n      label: '192.168.10.92/30',\n      classes: ['taxiR'],\n      taxiTurn: 60,\n      weight: 5,\n    },\n\n    {\n      sourceRouter: 'C#3',\n      sourcePort: 'Hu0/0/1/0',\n      targetRouter: 'C#1',\n      targetPort: 'Hu0/0/0/1',\n      label: '192.168.10.96/30',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'C#3',\n      sourcePort: 'Hu0/0/1/2',\n      targetRouter: 'C#4',\n      targetPort: 'Hu0/0/1/2',\n      label: '192.168.14.48/30',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'C#4',\n      sourcePort: 'Hu0/0/1/0',\n      targetRouter: 'C#2',\n      targetPort: 'Hu0/0/0/1',\n      label: '192.168.10.100/30',\n      weight: 5,\n    },\n\n    {\n      sourceRouter: 'B#1',\n      sourcePort: 'Hu0/0/1/0',\n      targetRouter: 'B#1',\n      targetPort: 'Hu0/0/0/0',\n      label: '192.168.10.0/30',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'B#1',\n      sourcePort: 'Hu0/0/1/2',\n      targetRouter: 'B#2',\n      targetPort: 'Hu0/0/1/2',\n      label: '192.168.14.0/30',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'B#2',\n      sourcePort: 'Hu0/0/1/0',\n      targetRouter: 'B#2',\n      targetPort: 'Hu0/0/0/0',\n      label: '192.168.10.4/30',\n      weight: 5,\n    },\n\n    {\n      sourceRouter: 'B#3',\n      sourcePort: 'Hu0/0/1/0',\n      targetRouter: 'B#1',\n      targetPort: 'Hu0/0/0/1',\n      label: '192.168.10.8/30',\n      classes: ['taxiR'],\n      taxiTurn: 60,\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'B#3',\n      sourcePort: 'Hu0/0/1/2',\n      targetRouter: 'B#4',\n      targetPort: 'Hu0/0/1/2',\n      label: '192.168.14.4/30',\n      weight: 1,\n    },\n\n    {\n      sourceRouter: 'B#4',\n      sourcePort: 'Hu0/0/1/0',\n      targetRouter: 'B#2',\n      targetPort: 'Hu0/0/0/1',\n      label: '192.168.10.12/30',\n      classes: ['taxiR'],\n      taxiTurn: 100,\n      weight: 5,\n    },\n  ];\n\n  Array.prototype.push.apply(iida.appdata.edges, edges);\n})();\n","/* global iida */\n\n(function () {\n  iida.layouts.grid = {\n    name: 'grid',\n\n    fit: true, // whether to fit the viewport to the graph\n    padding: 105, // padding used on fit, DEFAULT_ROUTER_WIDTH / 2\n    boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n    avoidOverlap: true, // prevents node overlap, may overflow boundingBox if not enough space\n    avoidOverlapPadding: 50, // extra spacing around nodes when avoidOverlap: true\n    nodeDimensionsIncludeLabels: false, // Excludes the label when calculating node bounding boxes for the layout algorithm\n    spacingFactor: undefined, // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n    condense: false, // uses all available space on false, uses minimal space on true\n    rows: undefined, // 12, // force num of rows in the grid\n    cols: undefined, // 15, // force num of columns in the grid\n    position: function (node) {\n      // returns { row, col } for element\n      return node.data('grid');\n    },\n    sort: undefined, // a sorting function to order the nodes; e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n    animate: true, // whether to transition the node positions\n    animationDuration: 500, // duration of animation in ms if enabled\n    animationEasing: 'ease', // easing of animation if enabled\n    animateFilter: function (node, i) {\n      return true;\n    }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n    stop: function (evt) {\n      // save initial position\n      evt.cy.nodes('.router').forEach((node) => {\n        node.data('initialPosition', Object.assign({}, node.position()));\n      });\n    },\n  };\n\n  iida.layouts.circle = {\n    name: 'circle',\n\n    fit: true, // whether to fit the viewport to the graph\n    padding: 30, // the padding on fit\n    boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n    avoidOverlap: true, // prevents node overlap, may overflow boundingBox and radius if not enough space\n    nodeDimensionsIncludeLabels: false, // Excludes the label when calculating node bounding boxes for the layout algorithm\n    spacingFactor: undefined, // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n    radius: undefined, // the radius of the circle\n    startAngle: (3 / 2) * Math.PI, // where nodes start in radians\n    sweep: undefined, // how many radians should be between the first and last node (defaults to full circle)\n    clockwise: true, // whether the layout should go clockwise (true) or counterclockwise/anticlockwise (false)\n    sort: undefined, // a sorting function to order the nodes; e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n    animate: true, // whether to transition the node positions\n    animationDuration: 500, // duration of animation in ms if enabled\n    animationEasing: 'ease', // easing of animation if enabled\n    animateFilter: function (node, i) {\n      return true;\n    }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  };\n\n  iida.layouts.concentric = {\n    name: 'concentric',\n\n    fit: true, // whether to fit the viewport to the graph\n    padding: 30, // the padding on fit\n    startAngle: (3 / 2) * Math.PI, // where nodes start in radians\n    sweep: undefined, // how many radians should be between the first and last node (defaults to full circle)\n    clockwise: true, // whether the layout should go clockwise (true) or counterclockwise/anticlockwise (false)\n    equidistant: false, // whether levels have an equal radial distance betwen them, may cause bounding box overflow\n    minNodeSpacing: 10, // min spacing between outside of nodes (used for radius adjustment)\n    boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n    avoidOverlap: true, // prevents node overlap, may overflow boundingBox if not enough space\n    nodeDimensionsIncludeLabels: false, // Excludes the label when calculating node bounding boxes for the layout algorithm\n    height: undefined, // height of layout area (overrides container height)\n    width: undefined, // width of layout area (overrides container width)\n    spacingFactor: undefined, // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n    concentric: function (node) {\n      // returns numeric value for each node, placing higher nodes in levels towards the centre\n      return node.degree();\n    },\n    levelWidth: function (nodes) {\n      // the variation of concentric values in each level\n      return nodes.maxDegree() / 4;\n    },\n    animate: true, // whether to transition the node positions\n    animationDuration: 500, // duration of animation in ms if enabled\n    animationEasing: 'ease', // easing of animation if enabled\n    animateFilter: function (node, i) {\n      return true;\n    }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  };\n\n  iida.layouts.breadthfirst = {\n    name: 'breadthfirst',\n\n    fit: true, // whether to fit the viewport to the graph\n    directed: false, // whether the tree is directed downwards (or edges can point in any direction if false)\n    padding: 30, // padding on fit\n    circle: false, // put depths in concentric circles if true, put depths top down if false\n    grid: false, // whether to create an even grid into which the DAG is placed (circle:false only)\n    spacingFactor: 1.75, // positive spacing factor, larger => more space between nodes (N.B. n/a if causes overlap)\n    boundingBox: undefined, // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n    avoidOverlap: true, // prevents node overlap, may overflow boundingBox if not enough space\n    nodeDimensionsIncludeLabels: false, // Excludes the label when calculating node bounding boxes for the layout algorithm\n    roots: undefined, // the roots of the trees\n    maximal: false, // whether to shift nodes down their natural BFS depths in order to avoid upwards edges (DAGS only)\n    animate: true, // whether to transition the node positions\n    animationDuration: 500, // duration of animation in ms if enabled\n    animationEasing: 'ease', // easing of animation if enabled,\n    animateFilter: function (node, i) {\n      return true;\n    }, // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n  };\n\n  // fcose\n  // https://github.com/iVis-at-Bilkent/cytoscape.js-fcose\n  iida.layouts.fcose = {\n    name: 'fcose',\n\n    // quality: \"default\",  // default,\n    // randomize: true,\n\n    quality: 'proof',\n    randomize: false, // if quality is \"proof\"\n\n    animate: true,\n    animationDuration: 1000,\n    animationEasing: 'ease',\n    fit: true, // default is true\n    padding: 20,\n\n    // Separation amount between nodes\n    nodeSeparation: 300,\n\n    // Ideal edge (non nested) length\n    idealEdgeLength: (edge) => 300,\n\n    // Fix desired nodes to predefined positions\n    // [{nodeId: 'n1', position: {x: 100, y: 200}}, {...}]\n    fixedNodeConstraint: undefined,\n\n    // Align desired nodes in vertical/horizontal direction\n    // {vertical: [['n1', 'n2'], [...]], horizontal: [['n2', 'n4'], [...]]}\n    alignmentConstraint: {\n      vertical: [\n        ['C#1', 'C#2'],\n        ['B#1', 'B#2'],\n        ['C#1', 'C#2'],\n        ['C#3', 'C#4'],\n        ['B#1', 'B#2'],\n        ['B#3', 'B#4'],\n        ['B#1', 'B#2'],\n        ['C#1', 'C#2'],\n      ],\n    },\n\n    // Place two nodes relatively in vertical/horizontal direction\n    // [{top: 'n1', bottom: 'n2', gap: 100}, {left: 'n3', right: 'n4', gap: 75}, {...}]\n    relativePlacementConstraint: [{ left: 'C#1', right: 'B#1', gap: 1200 }],\n  };\n})();\n","/* global cytoscape, iida */\n\n(function () {\n  iida.cyModel = function (dom) {\n    var container = dom;\n    var data;\n    var model;\n    var style = [\n      {\n        selector: 'node',\n        style: {\n          shape: 'round-rectangle',\n          label: 'data(label)',\n          width: 'data(width)',\n          height: 'data(height)',\n          'border-color': '#fff',\n          'border-width': 1,\n          'background-color': '#87ceeb', // skyblue\n          'font-size': 12,\n          'text-wrap': 'wrap',\n          'text-valign': 'center',\n          'text-halign': 'center',\n        },\n      },\n      {\n        selector: '.__MASTER__',\n        style: {\n          shape: 'rectangle',\n          width: 'data(width)',\n          height: 'data(height)',\n          'background-image': 'data(url)',\n        },\n      },\n    ];\n\n    var cy = exports.cy;\n    if (!cy) {\n      cy = exports.cy = cytoscape({\n        container: dom,\n        minZoom: 0.5,\n        maxZoom: 2,\n        wheelSensitivity: 0.2,\n        elements: [],\n        layout: { name: 'preset' },\n        style: style,\n      });\n    }\n\n    function exports() {\n      return this;\n    }\n\n    exports.show = function () {\n      // clean up existing cy\n      cy.removeAllListeners();\n      cy.elements().removeAllListeners();\n      cy.elements().remove();\n      cy.reset();\n\n      container.style.height = model.IMG_HEIGHT + 'px';\n      cy.resize();\n\n      cy.add({\n        data: {\n          id: '__MASTER___',\n          label: '',\n          width: model.IMG_WIDTH,\n          height: model.IMG_HEIGHT,\n          url: model.IMG_PATH,\n        },\n        classes: ['__MASTER__'],\n        selectable: false,\n        grabbable: true,\n      });\n\n      var masterNode = cy.$id('__MASTER___');\n\n      cy.on('position', '.__MASTER__', function (evt) {\n        var position = evt.target.position();\n        cy.nodes()\n          .not(masterNode)\n          .forEach((node) => {\n            var offset = model.offsetMap[node.id()];\n            if (!offset) {\n              return;\n            }\n            var offsetX = offset[0];\n            var offsetY = offset[1];\n            node.position({ x: position.x + offsetX, y: position.y + offsetY });\n          });\n      });\n\n      data.forEach((d) => {\n        d.data['label'] = d.data['label'] || d.data['id'];\n        // d.data['width'] = d.data['id'].startsWith('H') ? model.PORT_WIDTH + 6 : model.PORT_WIDTH;\n        d.data['width'] = model.PORT_WIDTH;\n        d.data['height'] = model.PORT_HEIGHT;\n        d['grabbable'] = false;\n      });\n\n      cy.add(data);\n\n      cy.fit();\n\n      masterNode.emit('position');\n\n      container.style.visibility = '';\n    };\n\n    exports.hide = function () {\n      container.style.visibility = 'hidden';\n    };\n\n    exports.datum = function (_) {\n      if (!arguments.length) {\n        return data;\n      }\n      data = _;\n      return this;\n    };\n\n    exports.model = function (_) {\n      if (!arguments.length) {\n        return model;\n      }\n      model = _;\n      return this;\n    };\n\n    exports.call = function () {\n      var callback = arguments[0];\n      arguments[0] = this;\n      callback.apply(null, arguments);\n      return this;\n    };\n\n    return exports;\n  };\n})();\n","/* global iida */\n\n(function () {\n\n  iida.styles.physical = [\n    {\n      selector: 'edge',\n      style: {\n        width: 1,\n        'curve-style': 'straight', // \"bezier\", \"taxi\" \"bezier\" \"segments\",\n        'target-arrow-shape': 'circle',\n        'source-arrow-shape': 'circle',\n        'line-color': '#000',\n        // 'line-color': '#a9a9a9', // darkgray\n        'target-arrow-color': '#a9a9a9', // darkgray\n        'source-arrow-color': '#a9a9a9', // darkgray\n        'text-wrap': 'wrap', // wrap is needed to work \\n\n        'edge-text-rotation': 'autorotate',\n        label: function (edge) {\n          return edge.data('label') ? `\\u2060${edge.data('label')}\\n\\n\\u2060` : '';\n        },\n        'font-size': 12,\n        'min-zoomed-font-size': 6,\n      },\n    },\n\n    {\n      selector: 'edge.topology',\n      style: {\n        label: function (edge) {\n          return edge.data('weight') ? `\\u2060${edge.data('weight')}\\n\\n\\u2060` : '';\n        },\n        'font-size': 24,\n      },\n    },\n\n    {\n      selector: '.router',\n      style: {\n        'border-color': '#000',\n        'border-width': 1,\n        shape: 'rectangle',\n        'background-color': '#ffffff',\n        label: 'data(label)',\n        width: 'data(width)',\n        height: 'data(height)',\n        'font-size': 12,\n        'text-wrap': 'wrap',\n        'text-valign': 'center',\n        'text-halign': 'center',\n        opacity: 0.8,\n      },\n    },\n\n    {\n      selector: '.router.topology',\n      style: {\n        shape: 'round-rectangle',\n        label: 'data(id)',\n        'font-size': 20,\n        'text-max-width': 'data(width)',\n        'text-overflow-wrap': 'anywhere',\n      },\n    },\n\n    {\n      selector: '.port',\n      style: {\n        'border-color': '#000',\n        'border-width': 1,\n        shape: 'rectangle',\n        'background-color': '#87ceeb', // skyblue\n        label: 'data(label)',\n        width: 'data(width)',\n        height: 'data(height)',\n        'font-size': 10,\n        'text-wrap': 'wrap',\n        'text-valign': 'center',\n        'text-halign': 'center',\n        opacity: 0.8,\n      },\n    },\n\n    {\n      selector: '.bundleEther',\n      style: {\n        shape: 'rectangle',\n        label: 'data(label)', // function(node) { return node.data('label') ? node.data('label') : ''},\n        'text-wrap': 'wrap',\n        'text-valign': 'center',\n        'text-halign': 'center',\n        'font-size': 9,\n        'background-color': '#f0e68c', // khaki\n        'border-width': 0,\n      },\n    },\n\n    {\n      selector: '.bundleEtherPort',\n      style: {\n        'border-width': 3,\n      },\n    },\n\n    {\n      // size of loop\n      selector: 'edge.loop',\n      style: {\n        'control-point-step-size': 90,\n      },\n    },\n\n    {\n      // internal edge from router to port\n      selector: 'edge.routerToPort',\n      style: {\n        visibility: 'hidden',\n      },\n    },\n\n    {\n      selector: '.router.P',\n      style: {\n        'background-color': '#20b2aa', // lightseagreen\n      },\n    },\n\n    {\n      selector: '.router.PE',\n      style: {\n        'background-color': '#00ced1', // darkturquoise\n      },\n    },\n\n    {\n      selector: '.router.L2',\n      style: {\n        'background-color': '#add8e6', // lightblue\n      },\n    },\n\n    {\n      // highlight dijkstra path\n      selector: 'node.dijkstraPath',\n      style: {\n        'border-color': '#0000ff', // blue\n        'border-width': 3,\n      },\n    },\n\n    {\n      // highlight dijkstra path\n      selector: 'edge.dijkstraPath',\n      style: {\n        width: 3,\n        'line-color': '#0000ff', // blue\n        'target-arrow-color': '#0000ff', // blue\n        'source-arrow-color': '#0000ff', // blue\n        // 'background-color': \"#a9a9a9\",  // darkgray\n        // 'transition-property': \"background-color, line-color\",\n        // 'transition-duration': \"0.5s\"\n      },\n    },\n\n    {\n      // highlight dijkstra source node\n      selector: '.router.dijkstraSource',\n      style: {\n        'border-color': '#ff8c00', // darkorange\n        'border-width': 8,\n      },\n    },\n\n    {\n      // highlight dijkstra target node\n      selector: '.router.dijkstraTarget',\n      style: {\n        'border-color': '#800080', // purple\n        'border-width': 8,\n      },\n    },\n\n    {\n      // un-highlight not dijkstra path\n      selector: '.dijkstraSemitransp',\n      style: { opacity: '0.5' },\n    },\n\n    {\n      // ']' shape edge\n      selector: 'edge.segmentsR',\n      style: {\n        'curve-style': 'segments',\n        'segment-weights': '0 1',\n        'edge-distances': 'node-position', // \"intersection\" or \"node-position\"\n        'segment-distances': function (edge) {\n          var distances = edge.data('segmentDistances') || 25;\n          // return \"- -\";\n          var s = -1 * (edge.source().data('width') / 2 + distances);\n          var t = -1 * (edge.target().data('width') / 2 + distances);\n          return s.toString() + ' ' + t.toString();\n        },\n      },\n    },\n\n    {\n      // '[' shape edge\n      selector: 'edge.segmentsL',\n      style: {\n        'curve-style': 'segments',\n        'segment-weights': '0 1',\n        'edge-distances': 'node-position', // \"intersection\" or \"node-position\"\n        'segment-distances': function (edge) {\n          var distances = edge.data('segmentDistances') || 25;\n          // return \"+ +\";\n          var s = edge.source().data('width') / 2 + distances;\n          var t = edge.target().data('width') / 2 + distances;\n          return s.toString() + ' ' + t.toString();\n        },\n      },\n    },\n\n    {\n      // taxi leftward\n      selector: 'edge.taxiL',\n      style: {\n        'curve-style': 'taxi',\n        'taxi-direction': 'leftward',\n        'taxi-turn': 'data(taxiTurn)'\n      },\n    },\n\n    {\n      // taxi rightward\n      selector: 'edge.taxiR',\n      style: {\n        'curve-style': 'taxi',\n        'taxi-direction': 'rightward',\n        'taxi-turn': 'data(taxiTurn)',\n      },\n    },\n\n    {\n      // unbundled-bezier\n      selector: 'edge.unbundled-bezier',\n      style: {\n        'curve-style': 'unbundled-bezier',\n      },\n    },\n\n    {\n      // thick overlay line\n      selector: 'edge.overlay10',\n      style: {\n        'overlay-color': 'black',\n        'overlay-padding': 10,\n        'overlay-opacity': '0.2',\n      },\n    },\n\n    {\n      // on mouseover\n      selector: 'node.mouseover',\n      style: {\n        'border-width': 3,\n      },\n    },\n\n    {\n      // selected node\n      selector: 'node:selected',\n      style: {\n        'background-color': '#ffd700', // gold\n      },\n    },\n\n    {\n      // selected edge\n      selector: 'edge:selected',\n      style: {\n        'overlay-color': 'black',\n        'overlay-padding': 8,\n        'overlay-opacity': '0.1',\n      },\n    },\n\n    {\n      // class to control show or hide\n      selector: '.hidden',\n      style: {\n        visibility: 'hidden',\n      },\n    },\n\n    {\n      // control to disabled or not, disabled node is excluded from dijkstra search\n      selector: '.disabled',\n      style: {\n        // edge\n        'line-color': '#ff0000', // red\n        'line-style': 'dashed',\n        // node\n        'border-color': '#ff0000', // red\n        'border-style': 'dashed',\n      },\n    },\n\n    {\n      selector: '.imgRouter',\n      style: {\n        'background-image': 'https://takamitsu-iida.github.io/network-diagram2/static/site/img/router.jpg',\n      },\n    },\n\n    {\n      selector: '.imgFirewall',\n      style: {\n        'background-image': 'https://takamitsu-iida.github.io/network-diagram2/static/site/img/firewall.jpg',\n      },\n    },\n  ];\n\n})();\n","/* global iida */\n\n(function () {\n  DEFAULT_ROUTER_WIDTH = iida.appdata.DEFAULT_ROUTER_WIDTH; // 200\n  DEFAULT_ROUTER_HEIGHT = iida.appdata.DEFAULT_ROUTER_HEIGHT; // 120\n  DEFAULT_PORT_WIDTH = iida.appdata.DEFAULT_PORT_WIDTH; // 60\n  DEFAULT_PORT_HEIGHT = iida.appdata.DEFAULT_PORT_HEIGHT; // 20\n\n  var createNode = function () {\n    // for router node\n    var _id;\n    var _label = '';\n    var _popper = '';\n    var _grid = { row: 1, col: 1 };\n    var _classes = [];\n    var _nodeType = 'router'; // \"router\" or \"port\"\n    var _width = DEFAULT_ROUTER_WIDTH;\n    var _height = DEFAULT_ROUTER_HEIGHT;\n    var _dragWith = [];\n    var _grabbable = true; // only router is grabbable\n    var _ports = [];\n    var _data = {};\n\n    // for port node\n    var _routerId = undefined;\n    var _align = ['C', 'C']; // Center, Center\n    var _offsetX = 0; // Center of the router\n    var _offsetY = 0; // Center of the router\n\n    function exports() {\n      return this;\n    }\n\n    exports.toObject = function () {\n      var data = {};\n\n      // for router and port common parameters\n      data['id'] = _id;\n      data['nodeType'] = _nodeType;\n      data['label'] = _label;\n      data['popper'] = _popper;\n      data['width'] = _width;\n      data['height'] = _height;\n      data['dragWith'] = _dragWith;\n      data['grid'] = _grid;\n      data['ports'] = _ports;\n\n      // for port only parameters\n      if (_routerId) {\n        data['routerId'] = _routerId;\n        data['align'] = _align;\n        data['offsetX'] = _offsetX;\n        data['offsetY'] = _offsetY;\n        _grabbable = false;\n      }\n\n      // if exists\n      if (Object.keys(_data).length) {\n        // merge _data\n        data = Object.assign(data, _data);\n      }\n\n      return {\n        data: data,\n        classes: _classes,\n        grabbable: _grabbable,\n      };\n    };\n\n    exports.id = function (_) {\n      if (!arguments.length) {\n        return _id;\n      }\n      if (_) {\n        _id = _;\n      }\n      return this;\n    };\n\n    exports.nodeType = function (_) {\n      if (!arguments.length) {\n        return _nodeType;\n      }\n      if (_) {\n        _nodeType = _;\n        _classes = [_nodeType];\n      }\n      return this;\n    };\n\n    exports.label = function (_) {\n      if (!arguments.length) {\n        return _label;\n      }\n      if (_) {\n        _label = _;\n      }\n      return this;\n    };\n\n    exports.popper = function (_) {\n      if (!arguments.length) {\n        return _popper;\n      }\n      if (_) {\n        _popper = _;\n      }\n      return this;\n    };\n\n    exports.grid = function (_) {\n      if (!arguments.length) {\n        return _grid;\n      }\n      if (_) {\n        _grid = _;\n      }\n      return this;\n    };\n\n    exports.ports = function (_) {\n      if (!arguments.length) {\n        return _ports;\n      }\n      if (_) {\n        _ports = _;\n      }\n      return this;\n    };\n\n    exports.width = function (_) {\n      if (!arguments.length) {\n        return _width;\n      }\n      if (_) {\n        _width = _;\n      }\n      return this;\n    };\n\n    exports.height = function (_) {\n      if (!arguments.length) {\n        return _height;\n      }\n      if (_) {\n        _height = _;\n      }\n      return this;\n    };\n\n    exports.classes = function (_) {\n      if (!arguments.length) {\n        return _classes;\n      }\n      if (_) {\n        if (typeof _ === 'string') {\n          _ = _.split(',');\n        }\n        Array.prototype.push.apply(_classes, _);\n        _classes = _classes.filter((elem, index, self) => self.indexOf(elem) === index);\n      }\n      return this;\n    };\n\n    exports.dragWith = function (_) {\n      if (!arguments.length) {\n        return _dragWith;\n      }\n      if (_) {\n        if (typeof _ === 'string') {\n          _dragWith = [_];\n        } else {\n          _dragWith = _;\n        }\n      }\n      return this;\n    };\n\n    exports.data = function (_) {\n      if (!arguments.length) {\n        return _data;\n      }\n      if (_ && Object.keys(_).length) {\n        _data = Object.assign(_data, _);\n      }\n      return this;\n    };\n\n    // for port node\n    exports.routerId = function (_) {\n      if (!arguments.length) {\n        return _routerId;\n      }\n      if (_) {\n        _routerId = _;\n      }\n      return this;\n    };\n\n    // for port node\n    exports.align = function (_) {\n      if (!arguments.length) {\n        return _align;\n      }\n      if (_) {\n        _align = _;\n      }\n      return this;\n    };\n\n    exports.offset = function (routerWidth, routerHeight, portWidth, portHeight) {\n      // TODO: routerHeight should be adjusted automatically\n\n      switch (_align[0]) {\n        case 'L': // Left\n          _offsetX = -1 * (routerWidth / 2 - portWidth / 2);\n          break;\n        case 'LO': // Left Outside\n        case 'OL': // Left Outside\n          _offsetX = -1 * (routerWidth / 2 + portWidth / 2);\n          break;\n        case 'C': // Center\n          _offsetX = 0;\n          break;\n        case 'R': // Right\n          _offsetX = routerWidth / 2 - portWidth / 2;\n          break;\n        case 'RO': // Right Outside\n        case 'OR': // Right Outside\n          _offsetX = routerWidth / 2 + portWidth / 2;\n          break;\n      }\n\n      switch (_align[1]) {\n        case 'T': // Top\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2;\n          break;\n        case 'T1': // 1st Top\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2;\n          break;\n        case 'T2': // 2nd Top\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 1;\n          break;\n        case 'T3': // 3rd Top\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 2;\n          break;\n        case 'T4':\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 3;\n          break;\n        case 'T5':\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 4;\n          break;\n        case 'T6':\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 5;\n          break;\n        case 'T7':\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 6;\n          break;\n        case 'T8':\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 7;\n          break;\n        case 'T9':\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 8;\n          break;\n        case 'T10':\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 9;\n          break;\n        case 'T11':\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 10;\n          break;\n        case 'T12':\n          _offsetY = (-1 * routerHeight) / 2 + portHeight / 2 + portHeight * 11;\n          break;\n        case 'C': // Center\n          _offsetY = 0;\n          break;\n        case 'B': // Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2;\n          break;\n        case 'B1': // 1st from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2;\n          break;\n        case 'B2': // 2nd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 1;\n          break;\n        case 'B3': // 3rd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 2;\n          break;\n        case 'B4': // 3rd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 3;\n          break;\n        case 'B5': // 3rd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 4;\n          break;\n        case 'B6': // 3rd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 5;\n          break;\n        case 'B7': // 3rd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 6;\n          break;\n        case 'B8': // 3rd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 7;\n          break;\n        case 'B9': // 3rd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 8;\n          break;\n        case 'B10': // 3rd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 9;\n          break;\n        case 'B11': // 3rd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 10;\n          break;\n        case 'B12': // 3rd from Bottom\n          _offsetY = routerHeight / 2 - portHeight / 2 - portHeight * 11;\n          break;\n      }\n\n      return this;\n    };\n\n    exports.fit = function (routerPosition) {\n      _position = { x: routerPosition.x + _offsetX, y: routerPosition.y + _offsetY };\n      return this;\n    };\n\n    return exports;\n  };\n\n  var createEdge = function () {\n    var _id;\n    var _edgeType = 'portToPort'; // \"portToPort\" or \"routerToPort\"\n    var _classes = ['portToPort']; // default is same as edgeType\n    var _label = '';\n    var _popper = '';\n    var _source;\n    var _sourceRouter;\n    var _sourcePort;\n    var _target;\n    var _targetRouter;\n    var _targetPort;\n    var _weight = 1;\n    var _data = {};\n\n    // need for class 'taxiL' or 'taxiR'\n    var _taxiTurn;\n\n    // need for class 'segments'\n    var _segmentDistances;\n\n    function exports() {\n      return this;\n    }\n\n    exports.toObject = function () {\n      var data = {\n        id: _id,\n        edgeType: _edgeType,\n        source: _source,\n        sourceRouter: _sourceRouter,\n        sourcePort: _sourcePort,\n        target: _target,\n        targetRouter: _targetRouter,\n        targetPort: _targetPort,\n        label: _label,\n        popper: _popper,\n        weight: _weight,\n      };\n\n      // if exists\n      if (_taxiTurn) {\n        data['taxiTurn'] = _taxiTurn;\n      }\n      if (_segmentDistances) {\n        data['segmentDistances'] = _segmentDistances;\n      }\n      if (Object.keys(_data).length) {\n        // merge _data\n        data = Object.assign(data, _data);\n      }\n\n      return {\n        data: data,\n        classes: _classes,\n      };\n    };\n\n    exports.id = function (_) {\n      if (!arguments.length) {\n        return _id;\n      }\n      if (_) {\n        _id = _;\n      }\n      return this;\n    };\n\n    exports.edgeType = function (_) {\n      if (!arguments.length) {\n        return _edgeType;\n      }\n      if (_) {\n        _edgeType = _;\n        _classes = [_edgeType];\n      }\n      return this;\n    };\n\n    exports.source = function (_) {\n      if (!arguments.length) {\n        return _source;\n      }\n      if (_) {\n        _source = _;\n      }\n      return this;\n    };\n\n    exports.sourceRouter = function (_) {\n      if (!arguments.length) {\n        return _sourceRouter;\n      }\n      if (_) {\n        _sourceRouter = _;\n      }\n      return this;\n    };\n\n    exports.sourcePort = function (_) {\n      if (!arguments.length) {\n        return _sourcePort;\n      }\n      if (_) {\n        _sourcePort = _;\n      }\n      return this;\n    };\n\n    exports.target = function (_) {\n      if (!arguments.length) {\n        return _target;\n      }\n      if (_) {\n        _target = _;\n      }\n      return this;\n    };\n\n    exports.targetRouter = function (_) {\n      if (!arguments.length) {\n        return _targetRouter;\n      }\n      if (_) {\n        _targetRouter = _;\n      }\n      return this;\n    };\n\n    exports.targetPort = function (_) {\n      if (!arguments.length) {\n        return _targetPort;\n      }\n      if (_) {\n        _targetPort = _;\n      }\n      return this;\n    };\n\n    exports.label = function (_) {\n      if (!arguments.length) {\n        return _label;\n      }\n      if (_) {\n        _label = _;\n      }\n      return this;\n    };\n\n    exports.popper = function (_) {\n      if (!arguments.length) {\n        return _popper;\n      }\n      if (_) {\n        _popper = _;\n      }\n      return this;\n    };\n\n    exports.weight = function (_) {\n      if (!arguments.length) {\n        return _weight;\n      }\n      if (_) {\n        _weight = _;\n      }\n      return this;\n    };\n\n    exports.taxiTurn = function (_) {\n      if (!arguments.length) {\n        return _taxiTurn;\n      }\n      if (_) {\n        _taxiTurn = _;\n      }\n      return this;\n    };\n\n    exports.segmentDistances = function (_) {\n      if (!arguments.length) {\n        return _segmentDistances;\n      }\n      if (_) {\n        _segmentDistances = _;\n      }\n      return this;\n    };\n\n    exports.classes = function (_) {\n      if (!arguments.length) {\n        return _classes;\n      }\n      if (_) {\n        if (typeof _ === 'string') {\n          _ = _.split(',');\n        }\n        Array.prototype.push.apply(_classes, _);\n        _classes = _classes.filter((elem, index, self) => self.indexOf(elem) === index);\n      }\n      return this;\n    };\n\n    exports.data = function (_) {\n      if (!arguments.length) {\n        return _data;\n      }\n      if (_ && Object.keys(_).length) {\n        _data = Object.assign(_data, _);\n      }\n      return this;\n    };\n\n    return exports;\n  };\n\n  //\n  // create cytoscape.js elements from iida.appdata.routers and iida.appdata.edges\n  //\n  var createElements = function (routers, edges) {\n    var eles = {\n      nodes: [],\n      edges: [],\n    };\n\n    // create router and port node\n    routers.forEach((router) => {\n      var grid = router.grid || {};\n      var routerId = router.id;\n      var routerLabel = router.label || '';\n      var popper = router.popper || '';\n      var routerWidth = router.width || DEFAULT_ROUTER_WIDTH;\n      var routerHeight = router.height || DEFAULT_ROUTER_HEIGHT;\n      var routerClasses = router.classes || [];\n      var dragWith = router.dragWith || [];\n      var ports = router.ports || [];\n      var routerData = router.data;\n\n      var n = createNode()\n        .id(routerId)\n        .nodeType('router')\n        .grid(grid)\n        .label(routerLabel)\n        .popper(popper)\n        .ports(ports)\n        .width(routerWidth)\n        .height(routerHeight)\n        .classes(routerClasses)\n        .dragWith(dragWith)\n        .data(routerData);\n\n      eles.nodes.push(n.toObject());\n\n      // create port node\n      ports.forEach((port) => {\n        var pid = port.id;\n        var portId = routerId + pid;\n        var portLabel = port.label || pid;\n        var align = port.align || ['C', 'C'];\n        var portWidth = port.width || DEFAULT_PORT_WIDTH;\n        var portHeight = port.height || DEFAULT_PORT_HEIGHT;\n        var portClasses = port.classes || [];\n        var portData = port.data;\n\n        var n = createNode()\n          .id(portId)\n          .nodeType('port')\n          .routerId(routerId)\n          .align(align)\n          .label(portLabel)\n          .width(portWidth)\n          .height(portHeight)\n          .classes(portClasses)\n          .data(portData)\n          .offset(routerWidth, routerHeight, portWidth, portHeight);\n        eles.nodes.push(n.toObject());\n\n        // create internal hidden edge from node to this port\n        var edgeId = routerId + portId; // is equal to 'routerId'+'routerId'+'port.id'\n        var e = createEdge()\n          .edgeType('routerToPort') // routerToPort type is special hidden edge\n          .id(edgeId)\n          .source(routerId)\n          .target(portId)\n          .weight(0.0001); // because 0 is not accepted, use small enough value\n        eles.edges.push(e.toObject());\n      });\n    });\n\n    // create edge\n    edges.forEach((edge) => {\n      var sourceRouter = edge.sourceRouter;\n      if (!sourceRouter) {\n        console.log('ERROR: sourceRouter is not defined in edge data');\n        return;\n      }\n      var sourcePort = edge.sourcePort;\n      if (!sourcePort) {\n        console.log('ERROR: sourcePort is not defined in edge data');\n        return;\n      }\n      var source = sourceRouter + sourcePort;\n      if (!eles.nodes.filter(({ data }) => data.id === source)) {\n        console.log('ERROR: failed to create edge, source port not found.');\n        return;\n      }\n\n      var targetRouter = edge.targetRouter;\n      if (!targetRouter) {\n        console.log('ERROR: targetRouter is not defined in edge data');\n        return;\n      }\n      var targetPort = edge.targetPort;\n      if (!targetPort) {\n        console.log('ERROR: targetPort is not defined in edge data');\n        return;\n      }\n      var target = targetRouter + targetPort;\n      if (!eles.nodes.filter(({ data }) => data.id === target)) {\n        console.log('ERROR: failed to create edge, target port not found.');\n        return;\n      }\n\n      var edgeId = source + target;\n      var edgeLabel = edge.label || '';\n      var edgePopper = edge.popper || '';\n      var weight = edge.weight || 1;\n      var edgeClasses = edge.classes || [];\n      var taxiTurn = edge.taxiTurn;\n      var segmentDistances = edge.segmentDistances;\n      var edgeData = edge.data;\n\n      var e = createEdge()\n        .edgeType('portToPort') // portToPort is the default edge type\n        .id(edgeId)\n        .source(source)\n        .sourceRouter(sourceRouter)\n        .sourcePort(sourcePort)\n        .target(target)\n        .targetRouter(targetRouter)\n        .targetPort(targetPort)\n        .label(edgeLabel)\n        .popper(edgePopper)\n        .classes(edgeClasses)\n        .weight(weight)\n        .taxiTurn(taxiTurn)\n        .data(edgeData)\n        .segmentDistances(segmentDistances);\n\n      eles.edges.push(e.toObject());\n    });\n\n    return eles;\n  };\n\n  iida.appdata.elements = createElements(iida.appdata.routers, iida.appdata.edges);\n})();\n","/* global cytoscape, iida */\n\n(function () {\n  iida.nwdiagram = function () {\n    // state object\n    var nwdiagramState = {\n      nenuName: 'physical', // or \"topology\"\n      showPopper: false,\n      shortestPathDuration: 1000, // msec\n    };\n\n    var cyContainer = document.getElementById('cy');\n    if (cyContainer) {\n      var cy = (window.cy = cytoscape({\n        container: cyContainer,\n        // minZoom: 0.3,\n        maxZoom: 5,\n        wheelSensitivity: 0.2,\n        hideEdgesOnViewport: false,\n        textureOnViewport: false,\n        boxSelectionEnabled: true,\n        autounselectify: false, // true if all nodes are unselectable\n        selectionType: 'single', // \"single\" or \"additive\",\n        style: iida.styles.physical,\n        layout: { name: 'preset' },\n        elements: [],\n      }));\n\n      // add the panzoom control with default parameter\n      // https://github.com/cytoscape/cytoscape.js-panzoom\n      cy.panzoom({});\n\n      // on grab, all router node save own position\n      cy.on('grab', '.router', function (evt) {\n        evt.target.data('grabX', evt.target.position().x);\n        evt.target.data('grabY', evt.target.position().y);\n\n        cy.$('.router').forEach((router) => {\n          var position = router.position();\n          router.data('oldX', position.x);\n          router.data('oldY', position.y);\n        });\n      });\n\n      // on drag, find dragWith nodes and set new position\n      cy.on('drag', '.router', function (evt) {\n        var deltaX = evt.target.position().x - evt.target.data('grabX');\n        var deltaY = evt.target.position().y - evt.target.data('grabY');\n\n        var targets = evt.target.data('dragWith') || [];\n        targets.forEach((target) => {\n          var router = cy.$id(target);\n          if (router && !router.grabbed()) {\n            var oldX = router.data('oldX');\n            var oldY = router.data('oldY');\n            router.position({ x: oldX + deltaX, y: oldY + deltaY });\n          }\n        });\n      });\n\n      // on position, fix port position\n      cy.on('position', '.router', function (evt) {\n        var router = evt.target;\n        var routerPosition = router.position();\n        var ports = router.data('ports') || [];\n        var portId;\n\n        function fixPortPosition(port) {\n          if (port) {\n            var offsetX = port.data('offsetX') || 0;\n            var offsetY = port.data('offsetY') || 0;\n            port.position({ x: routerPosition.x + offsetX, y: routerPosition.y + offsetY });\n          }\n        }\n\n        // fix port position\n        ports.forEach((p) => {\n          portId = router.id() + p.id;\n          fixPortPosition(cy.$id(portId));\n        });\n\n        // fix rootPort position, rootPort's id is \"_\" + routerId\n        portId = '_' + router.id();\n        fixPortPosition(cy.$id(portId));\n      });\n\n      cy.on('select', 'node', function (evt) {\n        var tipDiv = document.getElementById('idTipDiv');\n        showTooltipNode(tipDiv, evt.target);\n      });\n\n      cy.on('select', 'edge', function (evt) {\n        var tipDiv = document.getElementById('idTipDiv');\n        showTooltipEdge(tipDiv, evt.target);\n      });\n\n      cy.on('unselect', function (evt) {\n        var tipDiv = document.getElementById('idTipDiv');\n        hideTooltip(tipDiv);\n      });\n\n      cy.on('mouseover', 'node', function (evt) {\n        evt.target.addClass('mouseover');\n      });\n\n      cy.on('mouseout', 'node', function (evt) {\n        evt.target.removeClass('mouseover');\n      });\n\n      cy.on('pan zoom resize', function (evt) {\n        cy.elements().forEach((element) => {\n          if (element.updatePopper) {\n            element.updatePopper();\n          }\n        });\n      });\n\n      // set elements and run \"grid\" layout\n      cy.batch(function () {\n        setCyElements(cy, iida.appdata.elements);\n        setCyLayout(cy, 'grid');\n      });\n    }\n\n    var cyModelContainer = document.getElementById('idCyModel');\n    if (cyModelContainer) {\n      var cyModel = iida.cyModel(cyModelContainer);\n    }\n\n    function setCyElements(cy, eles) {\n      // first remove popper\n      removePopper(cy);\n\n      // and then remove elements\n      cy.elements().remove();\n\n      // reset zoom etc\n      cy.reset();\n\n      // add elements\n      cy.add(eles);\n\n      // create new popper\n      cy.elements().forEach((element) => {\n        if (element.data('popper') && element.data('popper') !== '') {\n          createPopper(cy, element);\n        }\n      });\n    }\n\n    function setCyLayout(cy, layoutName) {\n      if (layoutName === 'preset') {\n        animateToInitialPosition(cy);\n        return;\n      }\n      var option = iida.layouts[layoutName] || {\n        name: layoutName,\n        fit: true,\n        animate: true,\n      };\n      cy.$('.router').layout(option).run();\n      // cy.layout(option).run();\n    }\n\n    function createPopper(cy, node) {\n      var popperDiv = document.createElement('div');\n      popperDiv.classList.add('popperDiv');\n\n      // document.body.appendChild(popperDiv);\n      cy.container().appendChild(popperDiv);\n\n      // hide the popperDiv\n      if (!nwdiagramState.showPopper) {\n        popperDiv.classList.add('hidden');\n      }\n\n      // create popper object\n      var popper = node.popper({\n        content: () => {\n          popperDiv.innerHTML = node.data('popper');\n          return popperDiv;\n        },\n        popper: {\n          placement: 'top',\n          modifiers: [\n            {\n              name: 'offset',\n              options: {\n                offset: [0, 5],\n              },\n            },\n          ],\n        },\n      });\n\n      function updatePopper() {\n        popperDiv.style.display = 'none';\n        doLater(function () {\n          var zoom = cy.zoom();\n          var fontSize = Math.round(12 * zoom);\n          fontSize = Math.max(3, fontSize);\n          fontSize = Math.min(20, fontSize);\n          popperDiv.style.fontSize = fontSize + 'pt';\n\n          // fontSize 3 is too small to read\n          if (fontSize === 3) {\n            if (popperDiv.style.display === '') {\n              popperDiv.style.display = 'none';\n            }\n          } else {\n            if (popperDiv.style.display !== '') {\n              popperDiv.style.display = '';\n            }\n          }\n          popper.update();\n        }, 200);\n      }\n\n      function doLater(job, tmo) {\n        if (job in doLater.TID) {\n          window.clearTimeout(doLater.TID[job]);\n        }\n        doLater.TID[job] = window.setTimeout(function () {\n          delete doLater.TID[job];\n          try {\n            job.call();\n          } catch (e) {\n            alert('EXCEPTION CAUGHT : ' + job);\n          }\n        }, tmo);\n      }\n      doLater.TID = {};\n\n      // save these objects in node for later accessibility (ex. remove popper)\n      node.popperDiv = popperDiv;\n      node.updatePopper = updatePopper;\n      node.popperObj = popper;\n\n      // register event handler\n      node.on('position', updatePopper);\n    }\n\n    function removePopper(cy) {\n      cy.elements().forEach((element) => {\n        if (element.popperDiv) {\n          element.popperDiv.remove();\n        }\n        if (element.updatePopper) {\n          cy.removeListener('pan zoom resize', element.updatePopper);\n          element.removeListener('position', element.updatePopper);\n        }\n        if (element.popperObj) {\n          element.popperObj.destroy();\n        }\n      });\n    }\n\n    var idPopper = document.getElementById('idPopper');\n    if (idPopper) {\n      idPopper.addEventListener('change', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        nwdiagramState.showPopper = evt.target.checked;\n        cy.elements().forEach((element) => {\n          showHidePopper(element, nwdiagramState.showPopper);\n        });\n      });\n    }\n\n    // on click link to change menu\n    ['idPhysical', 'idTopology'].forEach((id) => {\n      var aTag = document.getElementById(id);\n      if (!aTag) {\n        return;\n      }\n      aTag.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        document.getElementsByName('menuChange').forEach((element) => {\n          element.classList.remove('active');\n        });\n        evt.target.classList.add('active');\n\n        var menuP = document.getElementById('idMenuP');\n        var menuL = document.getElementById('idMenuL');\n        if (id === 'idTopology') {\n          menuP.style.display = 'none';\n          menuL.style.display = 'block';\n          nwdiagramState.menuName = 'topology';\n          cy.elements().unselect();\n          cy.elements().addClass('topology');\n          setSelectOptions(selectDijkstraSource); // set select options for dijkstra source\n          setSelectOptions(selectDijkstraTarget); // set select options for dijkstra target\n          cy.elements().forEach((element) => {\n            // popper should be hidden during topology view\n            if (element.popperDiv) {\n              element.popperDiv.style.visibility = 'hidden';\n            }\n          });\n        } else if (id === 'idPhysical') {\n          menuL.style.display = 'none';\n          menuP.style.display = 'block';\n          nwdiagramState.menuName = 'physical';\n          cy.elements().removeClass('topology');\n          cy.elements().forEach((element) => {\n            // show popper in accordance with specified class\n            if (element.popperDiv) {\n              element.popperDiv.style.visibility = '';\n            }\n          });\n        }\n        CyShortestPath.hidePathTo(cy);\n        cy.elements().unselect();\n        var tipDiv = document.getElementById('idTipDiv');\n        hideTooltip(tipDiv);\n      });\n    });\n\n    function hideTooltip(tipDiv) {\n      // remove all children\n      while (tipDiv.lastChild) {\n        tipDiv.removeChild(tipDiv.lastChild);\n      }\n\n      // hide cyModel at the same time\n      cyModel.hide();\n    }\n\n    function showTooltipNode(tipDiv, node) {\n      hideTooltip(tipDiv);\n\n      var nodeType = node.data('nodeType');\n      if (!nodeType) {\n        // maybe unknown data is used\n        return;\n      }\n\n      if (nodeType === 'router') {\n        if (nwdiagramState.menuName === 'topology') {\n          tooltipRouterTopology(tipDiv, node);\n        } else {\n          tooltipRouterPhysical(tipDiv, node);\n        }\n        return;\n      }\n\n      if (nodeType === 'port') {\n        tooltipPort(tipDiv, node);\n      }\n    }\n\n    function tooltipRouterPhysical(tipDiv, node) {\n      // add <h4>router_id</h4>\n      tipDiv.appendChild(createTag('h4', {}, [document.createTextNode(node.id())]));\n\n      // add <h4>Ports</h4>\n      tipDiv.appendChild(createTag('h4', {}, [document.createTextNode('Ports')]));\n\n      // add link to own ports\n      const ulPorts = createTag('ul', {}, []);\n      tipDiv.appendChild(ulPorts);\n\n      const ports = node.data('ports') || [];\n      ports.forEach((p) => {\n        const port_id = node.id() + p.id;\n        const port = cy.$id(port_id);\n        if (port) {\n          const liTag = createTag('li', {}, []);\n          ulPorts.appendChild(liTag);\n          const aTag = createTag('a', { href: '#', style: 'text-decoration: none;' }, [document.createTextNode(p.label)]);\n          liTag.appendChild(aTag);\n          aTag.addEventListener('click', function (evt) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            cy.elements().unselect();\n            port.select();\n          });\n        }\n      });\n\n      // show router image\n      const model = node.data('model');\n      if (model) {\n        let modelData;\n        Object.keys(iida.models).forEach((key) => {\n          if (iida.models[key].MODEL === model) {\n            modelData = iida.models[key];\n          }\n        });\n        if (modelData) {\n          const imgTag = document.createElement('img');\n          imgTag.src = modelData.THUMBNAIL_PATH;\n          imgTag.width = tipDiv.clientWidth - 10;\n          const aTag = createTag('a', { href: '#' }, [imgTag]);\n          aTag.addEventListener('click', function (evt) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            var portDatas = [];\n            ports.forEach((p) => {\n              portDatas.push({ data: { id: p.id } });\n            });\n            cyModel.datum(portDatas).model(modelData).show();\n          });\n          tipDiv.appendChild(aTag);\n        }\n      }\n    }\n\n    function tooltipRouterTopology(tipDiv, node) {\n      // add checkbox to enable/disable connected edges\n      let inputTag = createTag('input', { type: 'checkbox', id: 'tipDiv_' + node.id(), value: node.id() }, []);\n      inputTag.checked = !node.hasClass('disabled');\n      inputTag.addEventListener('change', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        node.connectedEdges().forEach((edge) => {\n          if (evt.target.checked) {\n            edge.removeClass('disabled');\n          } else {\n            edge.addClass('disabled');\n          }\n        });\n        CyShortestPath.restart(cy);\n      });\n\n      let labelTag = createTag('label', {}, [document.createTextNode('enable/disable connected edges')]);\n      labelTag.htmlFor = 'tipDiv_' + node.id();\n      tipDiv.append(createTag('div', {}, [inputTag, labelTag]));\n\n      // add button \"Set as source\"\n      inputTag = createTag('input', { type: 'button', value: 'Set as source', style: 'width: 50%;' }, []);\n      inputTag.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        selectDijkstraSource.value = node.id();\n        CyShortestPath.restart(cy);\n      });\n      tipDiv.append(createTag('p', {}, [inputTag]));\n\n      // add button \"Set as target\"\n      inputTag = createTag('input', { type: 'button', value: 'Set as target', style: 'width: 50%;' }, []);\n      inputTag.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        selectDijkstraTarget.value = node.id();\n        CyShortestPath.restart(cy);\n      });\n      tipDiv.append(createTag('p', {}, [inputTag]));\n\n      // add <h4>Neighbor routers</h4>\n      tipDiv.appendChild(createTag('h4', {}, [document.createTextNode('Neighbor routers')]));\n\n      // add link to neighbor routers\n      const ulRouters = createTag('ul', {}, []);\n      tipDiv.appendChild(ulRouters);\n      node.neighborhood('node').forEach((neighbor) => {\n        const liTag = createTag('li', {}, []);\n        ulRouters.appendChild(liTag);\n        const aTag = createTag('a', { href: '#', style: 'text-decoration: none;' }, [document.createTextNode(neighbor.id())]);\n        liTag.appendChild(aTag);\n        aTag.addEventListener('click', function (evt) {\n          evt.stopPropagation();\n          evt.preventDefault();\n          cy.elements().unselect();\n          neighbor.select();\n        });\n\n        // add link to edge\n        const ulEdges = createTag('ul', {}, []);\n        liTag.appendChild(ulEdges);\n        node.edgesWith(neighbor).forEach((edge) => {\n          const liTag = createTag('li', {}, []);\n          const aTag = createTag('a', { href: '#', style: 'text-decoration: none;' }, [document.createTextNode('edge')]);\n          aTag.addEventListener('click', function (evt) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            cy.elements().unselect();\n            edge.select();\n          });\n          liTag.appendChild(aTag);\n          ulEdges.appendChild(liTag);\n        });\n      });\n    }\n\n    function tooltipPort(tipDiv, node) {\n      // add <h4>Name of port</h4>\n      tipDiv.appendChild(createTag('h4', {}, [document.createTextNode(node.data('label'))]));\n\n      const routerId = node.data('routerId');\n      const router = cy.$id(routerId);\n      if (router) {\n        // add <h4>Router</h4>\n        tipDiv.appendChild(createTag('h4', {}, [document.createTextNode('Router')]));\n        const aTag = createTag('a', { href: '#', style: 'text-decoration: none;' }, [document.createTextNode(routerId)]);\n        aTag.addEventListener('click', function (evt) {\n          evt.stopPropagation();\n          evt.preventDefault();\n          cy.elements().unselect();\n          router.select();\n        });\n        tipDiv.appendChild(createTag('p', {}, [aTag]));\n      }\n\n      const connectedEdges = node.connectedEdges('.portToPort');\n      if (connectedEdges && connectedEdges.length > 0) {\n        // add <h4>Edges</h4>\n        tipDiv.appendChild(createTag('h4', {}, [document.createTextNode('Edges')]));\n        connectedEdges.forEach((edge) => {\n          const aTag = createTag('a', { href: '#', style: 'text-decoration: none;' }, [document.createTextNode(edge.id())]);\n          aTag.addEventListener('click', function (evt) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            cy.elements().unselect();\n            edge.select();\n          });\n          tipDiv.appendChild(createTag('p', {}, [aTag]));\n        });\n      }\n    }\n\n    function showTooltipEdge(tipDiv, edge) {\n      hideTooltip(tipDiv);\n\n      // create enable/disable checkbox\n      if (nwdiagramState.menuName === 'topology') {\n        tooltipEdgeTopology(tipDiv, edge);\n      } else {\n        tooltipEdgePhysical(tipDiv, edge);\n      }\n    }\n\n    function tooltipEdgePhysical(tipDiv, edge) {\n      // add <h4>Source port</h4>\n      tipDiv.appendChild(createTag('h4', {}, [document.createTextNode('Source port')]));\n      const sourcePort = cy.$id(edge.source().id());\n      let aTag = createTag('a', { href: '#', style: 'text-decoration: none;' }, [document.createTextNode(edge.source().id())]);\n      aTag.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        cy.elements().unselect();\n        sourcePort.select();\n      });\n      tipDiv.appendChild(createTag('p', {}, [aTag]));\n\n      // add <h4>Target port</h4>\n      tipDiv.appendChild(createTag('h4', {}, [document.createTextNode('Target port')]));\n      const targetPort = cy.$id(edge.target().id());\n      aTag = createTag('a', { href: '#', style: 'text-decoration: none;' }, [document.createTextNode(edge.target().id())]);\n      aTag.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        cy.elements().unselect();\n        targetPort.select();\n      });\n      tipDiv.appendChild(createTag('p', {}, [aTag]));\n    }\n\n    function tooltipEdgeTopology(tipDiv, edge) {\n      const inputTag = createTag('input', { type: 'checkbox', id: 'tipDiv_' + edge.id(), value: edge.id() }, []);\n      inputTag.checked = !edge.hasClass('disabled');\n      inputTag.addEventListener('change', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        if (evt.target.checked) {\n          edge.removeClass('disabled');\n        } else {\n          edge.addClass('disabled');\n        }\n        CyShortestPath.restart(cy);\n      });\n\n      const labelTag = createTag('label', {}, [document.createTextNode('enable/disable edge')]);\n      labelTag.htmlFor = 'tipDiv_' + edge.id();\n      tipDiv.append(createTag('div', {}, [inputTag, labelTag]));\n\n      // add <h4>Connected routers</h4>\n      tipDiv.appendChild(createTag('h4', {}, [document.createTextNode('Connected routers')]));\n\n      // add link to connected routers\n      const ulRouters = createTag('ul', {}, []);\n      tipDiv.appendChild(ulRouters);\n      edge.connectedNodes().forEach((neighbor) => {\n        const liTag = createTag('li', {}, []);\n        ulRouters.appendChild(liTag);\n        const aTag = createTag('a', { href: '#', style: 'text-decoration: none;' }, [document.createTextNode(neighbor.id())]);\n        liTag.appendChild(aTag);\n        aTag.addEventListener('click', function (evt) {\n          evt.stopPropagation();\n          evt.preventDefault();\n          cy.elements().unselect();\n          neighbor.select();\n        });\n      });\n    }\n\n    function createTag(tag, attrs, children) {\n      var el = document.createElement(tag);\n      Object.keys(attrs).forEach(function (key) {\n        var val = attrs[key];\n        el.setAttribute(key, val);\n      });\n      children.forEach(function (child) {\n        el.appendChild(child);\n      });\n      return el;\n    }\n\n    // the button to revert to initial position\n    var initialPositionButton = document.getElementById('idInitialPosition');\n    if (initialPositionButton) {\n      initialPositionButton.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        animateToInitialPosition(cy);\n      });\n    }\n\n    function getInitialPosition(node) {\n      return node.data('initialPosition') || { x: 0, y: 0 };\n    }\n\n    function animateToInitialPosition(cy) {\n      Promise.all(\n        cy.nodes('.router').map((node) => {\n          return node\n            .animation({\n              position: getInitialPosition(node),\n              duration: 500,\n              easing: 'ease',\n            })\n            .play()\n            .promise();\n        })\n      );\n    }\n\n    var bundleEtherDiv = document.getElementById('idBundleEther');\n    if (bundleEtherDiv) {\n      iida.appdata.bundleEthers.forEach((bundleEther) => {\n        var inputTag = createTag(\n          'input',\n          {\n            type: 'checkbox',\n            id: bundleEther.id,\n            value: bundleEther.id,\n            name: bundleEther.id,\n          },\n          []\n        );\n        var labelTag = document.createElement('label');\n        labelTag.htmlFor = bundleEther.id;\n        labelTag.appendChild(document.createTextNode(bundleEther.id));\n        bundleEtherDiv.appendChild(createTag('div', {}, [inputTag, labelTag]));\n\n        inputTag.addEventListener('change', function (evt) {\n          evt.stopPropagation();\n          evt.preventDefault();\n\n          var id = evt.target.value;\n\n          if (evt.target.checked) {\n            var parent = cy.add({\n              group: 'nodes',\n              data: { id: id, label: bundleEther.label || id },\n              grabbable: false,\n              classes: ['bundleEther'],\n            });\n            bundleEther.ports.forEach((p) => {\n              var port = cy.$id(p);\n              if (port) {\n                port.move({ parent: id });\n                port.addClass('bundleEtherPort');\n              }\n            });\n          } else {\n            bundleEther.ports.forEach((p) => {\n              var port = cy.$id(p);\n              if (port) {\n                port.move({ parent: null });\n                port.removeClass('bundleEtherPort');\n              }\n            });\n            var parent = cy.$id(id);\n            if (parent) {\n              cy.remove(parent);\n            }\n          }\n        });\n      });\n    }\n\n    var connectedButton = document.getElementById('idConnected');\n    if (connectedButton) {\n      connectedButton.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        var roots = cy.$('.router:selected');\n        showConnected(cy, roots);\n      });\n    }\n\n    function showConnected(cy, roots) {\n      if (!roots || roots.length === 0) {\n        cy.nodes().show();\n\n        // cy.nodes().show() does not affect classes, change dom style visibility directly\n        cy.elements().forEach((element) => {\n          if (element.popperDiv) {\n            element.popperDiv.style.visibility = '';\n          }\n        });\n\n        return;\n      }\n\n      // in case of simple diagram data, this works\n      // cy.nodes().hide(); roots.neighborhood().nodes().show(); roots.show();\n\n      // in case of physical diagram data, create subgraph and show it\n      var eles = [];\n      roots.forEach((root) => {\n        eles.push(root);\n        var routerId = root.id();\n        var ports = root.data('ports') || [];\n        ports.forEach((p) => {\n          var port = cy.$id(routerId + p.id);\n          if (port) {\n            if (!eles.includes(port)) {\n              eles.push(port);\n            }\n            var edges = port.connectedEdges();\n            if (edges) {\n              edges.forEach((edge) => {\n                if (eles.includes(edge)) {\n                  eles.push(edge);\n                }\n                var peerPort = edge.source() === port ? edge.target() : edge.source();\n                if (!eles.includes(peerPort)) {\n                  eles.push(peerPort);\n                }\n                var peerRouterId = peerPort.data('routerId');\n                var peerRouter = cy.$id(peerRouterId);\n                if (peerRouter) {\n                  if (!eles.includes(peerRouter)) {\n                    eles.push(peerRouter);\n                  }\n                }\n              });\n            }\n          }\n        });\n      });\n      var subgraph = cy.collection(eles);\n\n      cy.batch(function () {\n        // hide all nodes\n        cy.nodes().hide();\n\n        // hide all poppers\n        cy.elements().forEach((element) => {\n          if (element.popperDiv) {\n            element.popperDiv.style.visibility = 'hidden';\n          }\n        });\n\n        // show subgraph\n        subgraph.show();\n\n        // show poppers\n        cy.elements(subgraph).forEach((element) => {\n          if (element.popperDiv) {\n            element.popperDiv.style.visibility = '';\n          }\n        });\n      });\n    }\n\n    ['AB', 'B', 'C'].forEach((location) => {\n      var aTag = document.getElementById('idLocation' + location);\n      if (!aTag) {\n        return;\n      }\n      aTag.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        document.getElementsByName('locationFilter').forEach((element) => {\n          element.classList.remove('active');\n        });\n        evt.target.classList.add('active');\n\n        if (location === 'A') {\n          filterByLocation(cy, 'A', true);\n          filterByLocation(cy, 'B', false);\n        } else if (location === 'B') {\n          filterByLocation(cy, 'A', false);\n          filterByLocation(cy, 'B', true);\n        } else {\n          filterByLocation(cy, 'A', true);\n          filterByLocation(cy, 'B', true);\n        }\n      });\n    });\n\n    function filterByLocation(cy, location, show) {\n      var routers = cy.nodes('.router').filter((r) => {\n        return location === r.data('location');\n      });\n      showHideRouters(routers, show);\n    }\n\n    // filter by redundant system number #1 or #2 or #1-#2\n    [12, 1, 2].forEach((redundantNumber) => {\n      var aTag = document.getElementById('idRedundant' + redundantNumber);\n      if (!aTag) {\n        return;\n      }\n      aTag.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        document.getElementsByName('redundantFilter').forEach((element) => {\n          element.classList.remove('active');\n        });\n        evt.target.classList.add('active');\n        if (redundantNumber === 1) {\n          filterByRedundant(cy, 1, true);\n          filterByRedundant(cy, 2, false);\n        } else if (redundantNumber === 2) {\n          filterByRedundant(cy, 2, true);\n          filterByRedundant(cy, 1, false);\n        } else {\n          filterByRedundant(cy, 1, true);\n          filterByRedundant(cy, 2, true);\n        }\n      });\n    });\n\n    function filterByRedundant(cy, redundantNumber, show) {\n      var routers = cy.nodes('.router').filter((r) => {\n        return redundantNumber === r.data('redundant');\n      });\n      showHideRouters(routers, show);\n    }\n\n    function showHideRouters(routers, show) {\n      routers.forEach((router) => {\n        var routerId = router.id();\n        var ports = router.data('ports') || [];\n        ports.forEach((p) => {\n          var portId = routerId + p.id;\n          var port = cy.$id(portId);\n          if (port) {\n            showHideElement(port, show);\n            port.connectedEdges().forEach((edge) => {\n              showHideElement(edge, show);\n            });\n          }\n        });\n        router.connectedEdges().forEach((edge) => {\n          showHideElement(edge, show);\n        });\n        showHideElement(router, show);\n      });\n    }\n\n    function showHideElement(element, show) {\n      if (show) {\n        element.removeClass('hidden');\n      } else {\n        element.addClass('hidden');\n      }\n      showHidePopper(element, show);\n    }\n\n    function showHidePopper(element, show) {\n      var popperDiv = element.popperDiv;\n      if (!popperDiv) {\n        return;\n      }\n      if (show) {\n        if (nwdiagramState.showPopper) {\n          popperDiv.classList.remove('hidden');\n        }\n      } else {\n        popperDiv.classList.add('hidden');\n      }\n    }\n\n    var CyShortestPath = (function () {\n      var _dijkstra = function (cy, startNodeId) {\n        if (!CyShortestPath.dijkstraResult && !CyShortestPath.parameterChanged) {\n          return;\n        }\n\n        // get start node by id\n        // var startNode = cy.filter('node[id=\"' + startNodeId + '\"]');\n        var startNode = cy.$id(startNodeId);\n        if (!startNode) {\n          return;\n        }\n\n        // eles.dijkstra( options )\n        // options\n        //    root: The root node (selector or collection) where the algorithm starts.\n        //    weight: function(edge) [optional] A function that returns the positive numeric weight for the edge. The weight indicates the cost of going from one node to another node.\n        //    directed: [optional] A boolean indicating whether the algorithm should only go along edges from source to target (default false).\n        var result = (CyShortestPath.dijkstraResult = cy\n          .elements()\n          .not('.disabled')\n          .dijkstra(\n            startNode,\n            function (edge) {\n              return edge.data('weight');\n            },\n            false\n          ));\n\n        CyShortestPath.parameterChanged = false;\n        return result;\n      };\n\n      var _showPathTo = function (cy, targetNodeId) {\n        // get end node by id\n        // var targetNode = cy.filter('node[id=\"' + targetNodeId + '\"]');\n        var targetNode = cy.$id(targetNodeId);\n        if (!targetNode) {\n          return;\n        }\n\n        // get cached dijkstra result\n        var dijkstra = CyShortestPath.dijkstraResult;\n        if (!dijkstra) {\n          dijkstra = CyShortestPath.dijkstra(cy, selectDijkstraSource.value);\n        }\n\n        // calculate pathTo\n        var pathTo = dijkstra.pathTo(targetNode);\n        var step = 0;\n        var highlightNext = function () {\n          var el = pathTo[step];\n          if (el /* && el.isEdge()*/) {\n            el.addClass('dijkstraPath');\n          }\n          if (step < pathTo.length) {\n            step++;\n            // setTimeout(highlightNext, 500);\n            highlightNext();\n          }\n        };\n        highlightNext();\n\n        pathTo[0].addClass('dijkstraSource');\n        pathTo[pathTo.length - 1].addClass('dijkstraTarget');\n        cy.elements().difference(pathTo).not(targetNode).addClass('dijkstraSemitransp');\n      };\n\n      var _hidePathTo = function (cy) {\n        cy.elements().removeClass('dijkstraPath');\n        cy.elements().removeClass('dijkstraSource');\n        cy.elements().removeClass('dijkstraTarget');\n        cy.elements().removeClass('dijkstraSemitransp');\n      };\n\n      var _restart = function (cy) {\n        CyShortestPath.parameterChanged = true;\n        CyShortestPath.dijkstra(cy, selectDijkstraSource.value); // calc dijkstra\n        selectDijkstraTarget.dispatchEvent(new Event('change')); // and show path to this target\n      };\n\n      return {\n        dijkstra: _dijkstra,\n        dijkstraResult: null,\n        showPathTo: _showPathTo,\n        hidePathTo: _hidePathTo,\n        isRunning: false,\n        parameterChanged: true, // true if weight changed, disabled state changed, etc\n        restart: _restart,\n      };\n    })();\n\n    // slider for edge #1-#1\n    var cost1_1 = document.getElementById('cost1_1');\n    if (cost1_1) {\n      cost1_1.addEventListener('input', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        document.getElementById('cost1_1Value').innerText = evt.target.value;\n        setEdgeWeight(cy);\n      });\n    }\n\n    // slider for edge #1-#2\n    var cost1_2 = document.getElementById('cost1_2');\n    if (cost1_2) {\n      cost1_2.addEventListener('input', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        document.getElementById('cost1_2Value').innerText = evt.target.value;\n        setEdgeWeight(cy);\n      });\n    }\n\n    // slider for edge #2-#2\n    var cost2_2 = document.getElementById('cost2_2');\n    if (cost2_2) {\n      cost2_2.addEventListener('input', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        document.getElementById('cost2_2Value').innerText = evt.target.value;\n        setEdgeWeight(cy);\n      });\n    }\n\n    var setEdgeWeight = function (cy) {\n      cy.edges().forEach((edge) => {\n        var edgeType = edge.data('edgeType');\n        if (!edgeType || edgeType === 'routerToPort') {\n          return;\n        }\n\n        var sourceRedundantSystem = edge.source().data('redundant') || 1;\n        var targetRedundantSystem = edge.target().data('redundant') || 1;\n\n        switch (sourceRedundantSystem + targetRedundantSystem) {\n          case 2: // #1-#1 main-main\n            edge.data('weight', parseInt(cost1_1.value));\n            break;\n          case 3: // #1-#2 main-back\n            edge.data('weight', parseInt(cost1_2.value));\n            break;\n          case 4: // #2-#2 back-back\n            edge.data('weight', parseInt(cost2_2.value));\n            break;\n        }\n      });\n\n      CyShortestPath.restart(cy);\n    };\n\n    var selectDijkstraSource = document.getElementById('idDijkstraSource');\n    if (selectDijkstraSource) {\n      selectDijkstraSource.addEventListener('change', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        CyShortestPath.restart(cy);\n      });\n    }\n\n    var selectDijkstraTarget = document.getElementById('idDijkstraTarget');\n    if (selectDijkstraTarget) {\n      selectDijkstraTarget.addEventListener('change', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        var targetId = evt.target.value;\n        CyShortestPath.hidePathTo(cy);\n        CyShortestPath.showPathTo(cy, targetId);\n      });\n    }\n\n    function setSelectOptions(select) {\n      while (select.lastChild) {\n        select.removeChild(select.lastChild);\n      }\n      cy.elements('.router').forEach((router) => {\n        if (router.classes().includes('L2')) {\n          return;\n        }\n        const option = document.createElement('option');\n        option.text = option.value = router.id();\n        select.appendChild(option);\n      });\n    }\n\n    function getSelectValues(select) {\n      const values = [];\n      Array.from(select.children).forEach((option) => {\n        values.push(option.value);\n      }); // select.children is HTMLCollection which is not iterable\n      return values;\n    }\n\n    var dijkstraStartStop = document.getElementById('idDijkstraStartStop');\n    if (dijkstraStartStop) {\n      dijkstraStartStop.addEventListener('change', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n\n        // disable or enable dom elements\n        CyShortestPath.isRunning = selectDijkstraSource.disabled = selectDijkstraTarget.disabled = dijkstraStartStop.checked;\n\n        // start or stop dijkstra calculation\n        dijkstraStartStopFunc();\n      });\n    }\n\n    function dijkstraStartStopFunc() {\n      var originalSourceIndex = (sourceIndex = 0);\n      var originalTargetIndex = (targetIndex = 0);\n\n      // move to current dropdown value\n      var sourceRouterIds = getSelectValues(selectDijkstraSource);\n      sourceRouterIds.forEach(function (routerId, index) {\n        if (selectDijkstraSource.value === routerId) {\n          originalSourceIndex = sourceIndex = index;\n        }\n      });\n\n      var targetRouterIds = getSelectValues(selectDijkstraTarget);\n      targetRouterIds.forEach(function (routerId, index) {\n        if (selectDijkstraTarget.value === routerId) {\n          originalTargetIndex = targetIndex = index;\n        }\n      });\n\n      // trigger to calculate shortest path at current source\n      selectDijkstraSource.dispatchEvent(new Event('change'));\n\n      var calculatedPairs = [];\n\n      function moveNext3() {\n        if (!CyShortestPath.isRunning) {\n          return;\n        }\n\n        targetIndex++;\n        if (targetIndex === targetRouterIds.length) {\n          targetIndex = 0;\n          sourceIndex++;\n          if (sourceIndex === sourceRouterIds.length) {\n            sourceIndex = 0;\n          }\n        }\n        selectDijkstraSource.options[sourceIndex].selected = true;\n        selectDijkstraTarget.options[targetIndex].selected = true;\n\n        if (targetIndex === 0) {\n          calculatedPairs.push(sourceIndex.toString() + '-' + targetIndex.toString());\n          selectDijkstraSource.dispatchEvent(new Event('change'));\n        }\n\n        // check if reached to original position\n        if (sourceIndex === originalSourceIndex && targetIndex === originalTargetIndex) {\n          // console.log('done');\n          // show final path\n          selectDijkstraTarget.dispatchEvent(new Event('change'));\n          // then finish\n          dijkstraStartStop.checked = false;\n          CyShortestPath.isRunning = selectDijkstraSource.disabled = selectDijkstraTarget.disabled = dijkstraStartStop.checked;\n          return;\n        }\n\n        if (calculatedPairs.includes(targetIndex.toString() + '-' + sourceIndex.toString())) {\n          // console.log(\"already displayed reverse path, just skip it\");\n          moveNext3();\n        } else if (sourceIndex === targetIndex) {\n          moveNext3();\n        } else {\n          calculatedPairs.push(sourceIndex.toString() + '-' + targetIndex.toString());\n          selectDijkstraTarget.dispatchEvent(new Event('change'));\n          setTimeout(moveNext3, nwdiagramState.shortestPathDuration);\n        }\n      }\n      moveNext3();\n    }\n\n    var dijkstraClearButton = document.getElementById('idDijkstraClear');\n    if (dijkstraClearButton) {\n      dijkstraClearButton.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        CyShortestPath.hidePathTo(cy);\n      });\n    }\n\n    var clearDisabledEdgeButton = document.getElementById('idResetDisabledEdge');\n    if (clearDisabledEdgeButton) {\n      clearDisabledEdgeButton.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n        cy.elements().removeClass('disabled');\n        CyShortestPath.restart(cy);\n        cy.elements().unselect();\n      });\n    }\n\n    // DEBUG PURPOSE\n    var debugButton = document.getElementById('idDebugButton');\n    if (debugButton) {\n      debugButton.addEventListener('click', function (evt) {\n        evt.stopPropagation();\n        evt.preventDefault();\n      });\n    }\n  };\n  //\n})();\n"]}